if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['location']!==window['parent']['location']||window['frameElement']!==undefined;E['set']('fullscreenFallback',F?'out_of_frame':'none');var G=window['navigator']['language']||window['navigator']['userLanguage']||'en';var H=E['get']('data')['locales']||{};var I=E['get']('data')['defaultLocale']||G;var J=this['locManager']=new TDV['Tour']['LocaleManager'](E,H,I,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=J;var K=function(){var V=E['get']('data');if(!('updateText'in V)){V['updateText']=function(Z){var a0=Z[0x0]['split']('.');if(a0['length']==0x2){var a1=J['trans']['apply'](J,Z);var a2=Z[0x1]||E;if(typeof a2=='string'){var a3=a2['split']('.');a2=E[a3['shift']()];for(var a4=0x0;a4<a3['length']-0x1;++a4){if(a2!=undefined)a2='get'in a2?a2['get'](a3[a4]):a2[a3[a4]];}if(a2!=undefined){var a5=a3[a3['length']-0x1];if(Array['isArray'](a2)){for(var a6=0x0;a6<a2['length'];++a6){this['setValue'](a2[a6],a5,a1);}}else this['setValue'](a2,a5,a1);}}else{a2=a2[a0[0x0]];this['setValue'](a2,a0[0x1],a1);}}}['bind'](E);}var W=V['translateObjs'];var X=V['updateText'];var Y=function(){for(var a7 in W){X(W[a7]);}};Y();Y();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],K['bind'](this));var L=this['_getParams'](location['search']['substr'](0x1));L=E['mixObject'](L,this['_getParams'](location['hash']['substr'](0x1)));var M=L['language'];if(!M||!this['locManager']['hasLocale'](L['language'])){if(E['get']('data')['forceDefaultLocale'])M=I;else M=G;}this['setLocale'](M);var N=E['getByClassName']('HotspotPanoramaOverlay');for(var P=0x0,Q=N['length'];P<Q;++P){var R=N[P];var S=R['get']('data');if(!S)R['set']('data',S={});S['defaultEnabledValue']=R['get']('enabled');}this['_setMediaFromURL'](L,0x0);this['_updateParams'](L,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var T=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(T['call'](this))return;var U=E['getByClassName']('PanoramaPlayer');for(var P=0x0;P<U['length'];++P){U[P]['bind']('viewModeChange',T,this);}E['bind']('orientationChange',T,this);}this['_onHashChange']=function(){var a8=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a8);this['_updateParams'](a8,!![]);}['bind'](this);this['_onKeyUp']=function(a9){switch(a9['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var aa=E['getByClassName']('MeasureModel3DObject');var ab=E['getActiveMediaWithViewer'](E['getMainViewer']());if(aa['length']>0x0&&ab['get']('class')=='Model3D'){E['startMeasurement'](null,aa[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ac){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ad=function(am){var an=am['source'];if(!this['_isPaused'])an['unbind']('stateChange',ad,this);else if(an['get']('state')=='playing'){an['pause']();}};var ae=this['player']['getByClassName']('PlayList');for(var af=0x0,ag=ae['length'];af<ag;af++){var ah=ae[af];var ai=ah['get']('selectedIndex');if(ai!=-0x1){var aj=ah['get']('items')[ai];var ak=aj['get']('player');if(ak&&ak['pause']){if(ak['get']('state')!='playing')ak['bind']('stateChange',ad,this);else ak['pause']();this['_playersPlayingTmp']['push'](ak);}}}var al=this['_getRootPlayer']();al['pauseGlobalAudios']();al['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var ao=this['_playersPlayingTmp']['pop']();ao['play']();}var ap=this['_getRootPlayer']();ap['resumeGlobalAudios']();ap['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(aq){this['_orientation']=this['_getOrientation']();if(aq)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(ar){var as=this['_getRootPlayer']();if(as!==undefined){return as['setMainMediaByIndex'](ar);}};TDV['Tour']['prototype']['setMediaByName']=function(at){var au=this['_getRootPlayer']();if(au!==undefined){return au['setMainMediaByName'](at);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(av,aw,ax){var ay=this['_getRootPlayer']();if(!ax)ax='click';if(ay!==undefined&&ax){var az=ay['getPanoramaOverlayByName'](av,aw);if(az){ay['triggerOverlay'](az,ax);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(aA,aB){var aC=this['_getRootPlayer']();if(aC!==undefined){var aD=aC['getPanoramaOverlayByName'](aA['get']('media'),aB);if(aD){var aE=aD['get']('class');var aF=aE=='VideoPanoramaOverlay'||aE=='QuadVideoPanoramaOverlay'?aD:aD['get']('items')[0x0];var aG,aH;aE=aF['get']('class');if(aE=='QuadVideoPanoramaOverlay'||aE=='QuadHotspotPanoramaOverlayImage'){var aI=aF['get']('vertices');var aJ=0x0,aK=aI['length'];aG=0x0;aH=0x0;while(aJ<aK){var aL=aI[aJ++];var aM=aL['get']('yaw');if(aM<0x0)aM+=0x168;aG+=aM;aH+=aL['get']('pitch');}aG/=0x4;aH/=0x4;if(aG>0xb4)aG-=0x168;}else{aG=aF['get']('yaw');aH=aF['get']('pitch');}var aN=aC['getPlayListWithItem'](aA);if(aN){var aO=function(){aC['setPanoramaCameraWithSpot'](aN,aA,aG,aH);};if(!this['_isInitialized']){var aP=function(){aA['unbind']('begin',aP,this);aO();};aA['bind']('begin',aP,this);}else{aO();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aQ,aR,aS){var aT=this['_getRootPlayer']();if(aT!==undefined){var aU=aT['getComponentsByTags'](aQ,aS);for(var aV=0x0,aW=aU['length'];aV<aW;++aV){aU[aV]['set']('visible',aR);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aX,aY,aZ){var b0=this['_getRootPlayer']();if(b0!==undefined){var b1=b0['getOverlaysByTags'](aX,aZ);b0['setOverlaysVisibility'](b1,aY);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b2,b3){var b4=this['_getRootPlayer']();if(b4!==undefined){var b5=b4['getActiveMediaWithViewer'](b4['getMainViewer']());var b6=[];for(var b7=0x0,b8=b2['length'];b7<b8;++b7){var b9=b4['getPanoramaOverlayByName'](b5,b2[b7]);if(b9)b6['push'](b9);}b4['setOverlaysVisibility'](b6,b3);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(ba,bb){var bc=this['_getRootPlayer']();if(bc!==undefined){var bd=bc['getActiveMediaWithViewer'](bc['getMainViewer']());if(bd['get']('class')=='Model3D'){bc['setObjectsVisibilityByID'](bd,ba,bb);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(be){var bf=this['_getRootPlayer']();if(bf!==undefined){var bg=bf['getActiveMediaWithViewer'](bf['getMainViewer']());if(bg['get']('class')=='Model3D'){bg['set']('variant',be);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bh=this['_getRootPlayer']();if(bh!==undefined){bh['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bi){var bj=this['_getRootPlayer']();if(bj!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bi);}};TDV['Tour']['prototype']['getLocale']=function(){var bk=this['_getRootPlayer']();return bk!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bl=document['documentElement'];bl['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bl['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bl['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bl['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bm=window['getComputedStyle'](bl);return parseInt(bm['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bm['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bm['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bm['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bn=this['_getRootPlayer']();if(bn){return bn['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bo){var bp={};bo['split']('&')['forEach'](function(bq){var br=bq['split']('=')[0x0],bs=decodeURIComponent(bq['split']('=')[0x1]);bp[br['toLowerCase']()]=bs;});return bp;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bt=document['getElementById']('metaViewport');if(bt){var bu=this['_devicesUrl'][this['_device']];var bv=0x1;if(typeof bu=='object'&&this['_orientation']in bu&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bv=bt['getAttribute']('data-tdv-general-scale')||0.5;}var bw=bt['getAttribute']('content');bw=bw['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bx,by){return'initial-scale='+bv;});bt['setAttribute']('content',bw);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var bz=this['_devicesUrl'][this['_device']];if(typeof bz=='object'){if(this['_orientation']in bz){bz=bz[this['_orientation']];}}return bz;};TDV['Tour']['prototype']['_getDevice']=function(){var bA=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bA=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bA=TDV['Tour']['DEVICE_MOBILE'];}return bA;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bB,bC){var bD=this['_getRootPlayer']();var bE=bD['getActivePlayerWithViewer'](bD['getMainViewer']());var bF=bE?bD['getMediaFromPlayer'](bE):undefined;var bG;if('media'in bB){var bH=bB['media'];var bI=Number(bH);bG=isNaN(bI)?this['setMediaByName'](bH):this['setMediaByIndex'](bI-0x1);}else if('media-index'in bB){bG=this['setMediaByIndex'](parseInt(bB['media-index'])-0x1);}else if('media-name'in bB){bG=this['setMediaByName'](decodeURIComponent(bB['media-name']));}if(bG==undefined&&bC!==undefined){bG=this['setMediaByIndex'](0x0);}if(bG!=undefined){var bJ=bG['get']('player');var bK=function(){if('trigger-overlay-name'in bB){this['triggerOverlayByName'](bG['get']('media'),bB['trigger-overlay-name'],bB['trigger-overlay-event']);}if('focus-overlay-name'in bB){this['focusOverlayByName'](bG,bB['focus-overlay-name']);}else if('yaw'in bB||'pitch'in bB){var bO=bD['getPlayListWithItem'](bG);if(bO){switch(bG['get']('class')){case'PanoramaPlayListItem':var bP=parseFloat(bB['yaw'])||undefined;var bQ=parseFloat(bB['pitch'])||undefined;var bR=parseFloat(bB['fov'])||undefined;bD['setPanoramaCameraWithSpot'](bO,bG,bP,bQ,bR);break;case'Model3DPlayListItem':var bS=['yaw','pitch','x','y','z','distance'];var bT={};for(var bU=0x0;bU<bS['length'];++bU){var bV=bS[bU];var bW=parseFloat(bB[bV]);if(!isNaN(bW))bT[bV]=bW;}bD['setModel3DCameraSpot'](bO,bG,bT);break;}}}}['bind'](this);if(bJ){var bL=bJ['get']('viewerArea')==bD['getMainViewer']();var bM=bD['getMediaFromPlayer'](bJ);if(bL&&bF==bG['get']('media')||!bL&&bM==bG['get']('media')){bK();return bG!=undefined;}}var bN=function(){bG['unbind']('begin',bN,this);bK();};bG['bind']('begin',bN,bD);}return bG!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bX=function(){var bY;var bZ=function(){var c2=this['_getRootPlayer']();bY=c2['get']('lockedOrientation');c2['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var c0=function(){bZ();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],c0);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],c0);this['reload'](!![]);}else{bZ();}var c1=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bY);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],c1);var c3=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c3)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],c1);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bX);}};TDV['Tour']['prototype']['_updateParams']=function(c4,c5){if(c5&&'language'in c4){var c6=c4['language'];if(this['locManager']['hasLocale'](c6)){this['setLocale'](c6);}}var c7=function(c9,ca,cb){var cc=ca['split'](',');for(var cd=0x0,ce=cc['length'];cd<ce;++cd){c9['call'](this,cc[cd]['split']('+'),cb,'and');}};var c8=function(cf){var cg=this['_getRootPlayer']();var ch=cg['getActiveMediaWithViewer'](cg['getMainViewer']());if(ch['get']('class')!='Model3D')return;var ci=ch['get']('objects');var cj=[];cf['split']('+')['forEach'](function(ck){var cl=ck['split'](',');var cm=cl['shift']();if(cm in cg&&cl['length']%0x3==0x0){var cn=cl[0x0],co=cl[0x1],cp=cl[0x2];var cq=ci['some'](function(cv){return cv['get']('class')=='MeasureModel3DObject'&&cn==cv['get']('x')&&co==cv['get']('y')&&cp==cv['get']('z');});if(cq)return;var cr=[];var cs=_cloneMeasureModel3DObject['call'](this,this[cm]);cs['set']('mode','view');cs['set']('x',cn);cs['set']('y',co);cs['set']('z',cp);for(var ct=0x3;ct<cl['length'];ct+=0x3){var cu=this['createInstance']('MeasureModel3DObjectPoint');cu['set']('x',cl[ct]);cu['set']('y',cl[ct+0x1]);cu['set']('z',cl[ct+0x2]);cr['push'](cu);}cs['set']('points',cr);cj['push'](cs);}}['bind'](cg));if(cj['length']>0x0){ch['set']('objects',ci['concat'](cj));}};if('hide-components-tags'in c4||'hct'in c4)c7['call'](this,this['setComponentsVisibilityByTags'],c4['hide-components-tags']||c4['hct'],![]);if('show-components-tags'in c4||'sct'in c4)c7['call'](this,this['setComponentsVisibilityByTags'],c4['show-components-tags']||c4['sct'],!![]);if('hide-overlays-tags'in c4||'hot'in c4)c7['call'](this,this['setOverlaysVisibilityByTags'],c4['hide-overlays-tags']||c4['hot'],![]);if('show-overlays-tags'in c4||'sot'in c4)c7['call'](this,this['setOverlaysVisibilityByTags'],c4['show-overlays-tags']||c4['sot'],!![]);if('hide-overlays-names'in c4||'hon'in c4)this['setOverlaysVisibilityByName'](decodeURIComponent(c4['hide-overlays-names']||c4['hon'])['split'](','),![]);if('show-overlays-names'in c4||'son'in c4)this['setOverlaysVisibilityByName'](decodeURIComponent(c4['show-overlays-names']||c4['son'])['split'](','),!![]);if('show-object-ids'in c4||'sobjids'in c4)this['setObjectsVisibilityByID'](decodeURIComponent(c4['show-object-ids']||c4['sobjids'])['split'](','),!![]);if('hide-object-ids'in c4||'hobjids'in c4)this['setObjectsVisibilityByID'](decodeURIComponent(c4['hide-object-ids']||c4['hobjids'])['split'](','),![]);if('variant'in c4)this['setModel3DVariant'](decodeURIComponent(c4['variant']));if('measures'in c4)c8['call'](this,decodeURIComponent(c4['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(cw,cx,cy,cz){TDV['EventDispatcher']['call'](this);this['rootPlayer']=cw;this['locales']={};this['defaultLocale']=cy;this['queryParam']=cz;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cA in cx){this['registerLocale'](cA,cx[cA]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cB,cC){var cD=[cB,cB['split']('-')[0x0]];for(var cE=0x0;cE<cD['length'];++cE){cB=cD[cE];if(!(cB in this['locales'])){this['locales'][cB]=cC;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cF){delete this['locales'][cF];if(cF==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cG){return cG in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cH){var cI;var cJ=cH['split']('-')[0x0];var cK=[cH,cJ];for(var cL=0x0;cL<cK['length'];++cL){var cN=cK[cL];if(cN in this['locales']){cI=cN;break;}}if(cI===undefined){for(var cN in this['locales']){if(cN['indexOf'](cJ)==0x0){cI=cN;break;}}}if(cI===undefined){cI=this['defaultLocale'];}var cO=this['locales'][cI];if(cO!==undefined&&this['currentLocaleID']!=cI){this['currentLocaleID']=cI;var cP=this;if(typeof cO=='string'){var cQ=new XMLHttpRequest();cQ['onreadystatechange']=function(){if(cQ['readyState']==0x4){if(cQ['status']==0xc8){cP['locales'][cI]=cP['currentLocaleMap']=cP['_parsePropertiesContent'](cQ['responseText']);cP['dispatchEvent'](cP['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cO+'\x20can\x27t\x20be\x20loaded';}}};var cR=cO;if(this['queryParam'])cR+=(cR['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cQ['open']('GET',cR);cQ['send']();}else{this['currentLocaleMap']=cO;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cS){function cT(cX){return/^\d+$/['test'](cX);}var cU=this['currentLocaleMap'][cS];if(cU&&arguments['length']>0x2){var cV=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cW=arguments;cU=cU['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cY,cZ){if(cT(cZ))cZ=cW[parseInt(cZ)+0x1];else if(cV!==undefined)cZ=cV[cZ];if(typeof cZ=='string')cZ=this['currentLocaleMap'][cZ]||cZ;else if(typeof cZ=='function')cZ=cZ['call'](this['rootPlayer']);return cZ!==undefined?cZ:'';}['bind'](this));}return cU;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(d0){d0=d0['replace'](/(^|\n)#[^\n]*/g,'');var d1={};var d2=d0['split']('\x0a');for(var d3=0x0,d4=d2['length'];d3<d4;++d3){var d5=d2[d3]['trim']();if(d5['length']==0x0){continue;}var d6=d5['indexOf']('=');if(d6==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d3);continue;}var d7=d5['substr'](0x0,d6)['trim']();var d8=d5['substr'](d6+0x1)['trim']();var d9;while((d9=d8['lastIndexOf']('\x5c'))!=-0x1&&d9==d8['length']-0x1&&++d3<d4){d8=d8['substr'](0x0,d8['length']-0x2);d5=d2[d3];if(d5['length']==0x0)break;d8+='\x0a'+d5;d8=d8['trim']();}d1[d7]=d8;}return d1;};TDV['Tour']['HistoryData']=function(da){this['playList']=da;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(db){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==db){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],db);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(dc,dd){return typeof dd=='string'?dc[dd['replace']('this.','')]:dd;}function _initModels(){var de=this['getByClassName']('Model3D');de['forEach'](function(df){var dg=df['get']('data');var dh=dg['panoramaLocations'];if(dh){dh['forEach'](function(di){di=_getObject(this,di);var dj=di['get']('data');var dk=_getObject(this,dj['panorama']);dk['set']('modelLocations',(dk['get']('modelLocations')||[])['concat'](di));}['bind'](this));}this['getPlayListItems'](df)['forEach'](function(dl){_initModel3DItem['call'](this,dl);}['bind'](this));}['bind'](this));}function _initModel3DItem(dm){var dn=dm['get']('player');if(!dn)return;var dp=dn['get']('viewerArea');if(!dp)return;var dq=dm['get']('media');var dr;dm['bind']('begin',function(){_initModel['call'](this,dq);dr=dp['get']('doubleClickAction');dp['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(ds){if(ds['get']('class')=='PanoramaPlayer'&&ds['get']('viewerArea')==dp){ds['set']('model3DPlayer',dn);}});},this);dm['bind']('stop',function(){dp['set']('doubleClickAction',dr);},this);}function _initModel(dt){var du=dt['get']('data');if(!du)dt['set']('data',du={});if(!du['panoramaLocations']||du['isInitialized']||!dt['get']('isLoaded'))return;var dv=0xb4/Math['PI'];var dw=dt['get']('worldUnitToMeters')||0x1;var dx=du['maxDistanceObjectsVisible']||0x0;var dy=du['panoramaLocations'];var dz=[];var dA=this['get']('data')['surfaceSelectionHotspotMode'];var dB=dA=='hotspotEnabled';dy['forEach'](function(dI){dI=_getObject(this,dI);var dJ=dI['get']('data');var dK=dt['getDistanceToFloor']([dI['get']('x'),dI['get']('y'),dI['get']('z')]);var dL=_getObject(this,dJ['panorama']);var dM=dy['filter'](function(dV){var dW=_getObject(this,_getObject(this,dV)['get']('data'));return!dW['excludeAsHotspotPanorama']&&dL!=dW['panorama'];}['bind'](this))['map'](function(dX){dX=_getObject(this,dX);var dY=dX['get']('data');var dZ=!!dY['excludeSurfaceSelectionModel'];var e0=dX['get']('x')-dI['get']('x'),e1=dX['get']('y')-dI['get']('y'),e2=dX['get']('z')-dI['get']('z');var e3=Math['atan2'](e0,-e2)*dv;var e4=Math['atan2'](e1,Math['sqrt'](e0*e0+e2*e2))*dv;var e5=Math['sqrt'](e0*e0+e1*e1+e2*e2);var e6=dt['getDistanceToFloor']([dX['get']('x'),dX['get']('y'),dX['get']('z')]);if(dK!==undefined&&e6!==undefined)e1=e6-dK;var e7=Math['sqrt'](e0*e0+e1*e1+e2*e2);return{'yaw':e3,'pitch':e4,'width':dY['width'],'height':dY['height'],'opacity':dY['opacity'],'anchorX':dY['anchorX']?dY['anchorX']:0.5,'anchorY':dY['anchorY']?dY['anchorY']:0.5,'transparentAreaActive':!!dY['transparentAreaActive'],'actions':dY['actions'],'position':{'x':dX['get']('x'),'y':dX['get']('y'),'z':dX['get']('z')},'toolTip':dY['toolTip'],'image':_getObject(this,dY['image']),'distance':e5*dw,'floorDistance':e7*dw,'panorama':_getObject(this,dY['panorama']),'backwardYaw':e3-0xb4-dX['get']('yaw'),'excludeSurfacePanorama':dZ};}['bind'](this));dM['sort'](function(e8,e9){return e8['distance']-e9['distance'];});var dN=[],dO=(dL['get']('adjacentPanoramas')||[])['concat']();var dP=dt['get']('maxNearestObjectsVisible');var dQ=du['showOnlyHotspotsLineSightInPanoramas'];var dR={'x':dI['get']('x'),'y':dI['get']('y'),'z':dI['get']('z')};dM['forEach'](function(ea){if(ea['panorama']==dL||dP>0x0&&dN['length']>=dP||dx>0x0&&ea['distance']>dx||dQ&&dt['testIntersection'](dR,ea['position']))return;var eb=dD['call'](this,ea['panorama'],ea['yaw']-dI['get']('yaw'),ea['pitch'],ea['width'],ea['height'],ea['anchorX'],ea['anchorY'],ea['opacity'],ea['transparentAreaActive'],ea['image'],dB&&!ea['excludeSurfacePanorama']);var ec=dE['call'](this,ea['panorama'],ea['yaw']-dI['get']('yaw'),ea['backwardYaw'],ea['floorDistance'],!ea['excludeSurfacePanorama']);dN['push'](eb);var ed=dO['findIndex'](function(eg){return eg['get']('panorama')==ea['panorama'];});if(ed!=-0x1)dO['splice'](ed,0x1);dO['push'](ec);var ee=eb['get']('areas')[0x0];if(ea['toolTip'])ee['set']('toolTip',ea['toolTip']);ee['bind']('click',dC['bind'](this,dL,ea['panorama'],dt,!![]),this);ec['bind']('select',dC['bind'](this,dL,ea['panorama'],dt,!![]),this);var ef=ea['actions'];if(ef){dH['call'](this,eb,ef);if('click'in ef)ec['bind']('select',new Function('event',ef['click']),this);}}['bind'](this));dL['set']('overlays',(dL['get']('overlays')||[])['concat'](dN));dL['set']('adjacentPanoramas',dO);var dS=!dt['get']('surfaceSelectionEnabled')||!!dJ['excludeSurfaceSelectionModel'];var dT;if(dS){dT=dF['call'](this,dI['get']('x'),dI['get']('y'),dI['get']('z'),dJ['width'],dJ['height'],dJ['anchorX']?dJ['anchorX']:0.5,dJ['anchorY']?dJ['anchorY']:0.5,dJ['opacity'],!!dJ['transparentAreaActive'],du['showOnlyHotspotsLineSight'],_getObject(this,dJ['image']));dT['set']('id','sprite_'+dI['get']('id'));dT['set']('translationLineColor',dJ['translationLineColor']!=null?dJ['translationLineColor']:'#ffffff');dT['set']('translationLineOpacity',dJ['translationLineOpacity']!=null?dJ['translationLineOpacity']:0x1);dT['set']('translationLineVisible',dJ['translationLineVisible']!=null?dJ['translationLineVisible']:![]);dT['set']('translationLineWidth',dJ['translationLineWidth']!=null?dJ['translationLineWidth']:0x1);dT['set']('translationLength',dJ['translationLength']!=null?dJ['translationLength']:du['showOnlyHotspotsLineSight']&&(dJ['translationY']==null||dJ['translationY']==0x0)?dJ['height']/0x2:undefined);dT['set']('translationX',dJ['translationX']!=null?dJ['translationX']:0x0);dT['set']('translationY',dJ['translationY']!=null&&dJ['translationY']!=0x0?dJ['translationY']:du['showOnlyHotspotsLineSight']?0x1:0x0);dT['set']('translationZ',dJ['translationZ']!=null?dJ['translationZ']:0x0);if(dJ['toolTip'])dT['set']('toolTip',dJ['toolTip']);}else dT=dG['call'](this,dI['get']('x'),dI['get']('y'),dI['get']('z'));dJ['object']=dT;if(dJ['tags']!==undefined)dT['get']('data')['tags']=dJ['tags'];if(dJ['enabled']!==undefined)dT['set']('enabled',dJ['enabled']);dT['get']('data')['location']=dI;var dU=dJ['actions'];if(dU){dH['call'](this,dT,dU);}dT['bind']('click',dC['bind'](this,dt,dL,dt,![]),this);dz['push'](dT);}['bind'](this));dt['set']('objects',(dt['get']('objects')||[])['concat'](dz));du['isInitialized']=!![];function dC(eh,ei,ej,ek){var el=this['getPlayListsWithMedia'](eh,!![])['filter'](function(es){return this['getMediaFromPlayer'](es['get']('items')[es['get']('selectedIndex')]['get']('player'))==eh;}['bind'](this));if(el['length']==0x0)return;var em=this['getPlayListItemByMedia'](el[0x0],eh);var en=em['get']('player')['get']('viewerArea');var eo;this['getPlayListsWithMedia'](ei)['forEach'](function(et){var eu=this['getPlayListItemByMedia'](et,ei);if(eu['get']('player')['get']('viewerArea')==en){if(ek&&em['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){ep();eu['bind']('begin',er,this);}et['set']('selectedIndex',et['get']('items')['indexOf'](eu));}}['bind'](this));function ep(){eo=ej['get']('objects')['filter'](function(ev){var ew=ev['get']('data');return ew&&ew['location']!==undefined;});eo['forEach'](function(ex){ex['set']('enabled',![]);});}function eq(){eo['forEach'](function(ey){ey['set']('enabled',!![]);});}function er(ez){ez['source']['unbind']('begin',er,this);eq();}}function dD(eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK){var eL=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eK,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eI?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':eB,'pitch':eC,'width':eD,'height':eE,'offsetX':eF*eD,'offsetY':eG*eE,'opacity':eH!=undefined?eH:0x1}]});eL['get']('items')[0x0]['set']('image',eJ);return eL;}function dE(eM,eN,eO,eP,eQ){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eM['get']('id'),'backwardYaw':eO,'yaw':eN,'distance':eP,'enabledInSurfaceSelection':eQ});}function dF(eR,eS,eT,eU,eV,eW,eX,eY,eZ,f0,f1){var f2=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eR,'y':eS,'z':eT,'anchorX':eW,'anchorY':eX,'depthTest':f0,'transparentAreaActive':eZ,'hideBasedOnDistance':!![],'width':eU,'height':eV,'opacity':eY!=undefined?eY:0x1,'data':{}});f2['set']('image',f1);return f2;}function dG(f3,f4,f5){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':f3,'y':f4,'z':f5,'depthTest':![],'data':{}});}function dH(f6,f7){Object['keys'](f7)['forEach'](function(f8){if(f6['hasEvent'](f8))f6['bind'](f8,new Function('event',f7[f8]),this);}['bind'](this));}}function _findLocationWithPanorama(f9){var fa=this['getByClassName']('Model3D');for(var fb=0x0,fc=fa['length'];fb<fc;++fb){var fd=fa[fb];var fe=fd['get']('data');if(fe&&fe['panoramaLocations']){var ff=fe['panoramaLocations']['find'](function(fg){fg=_getObject(this,fg);return _getObject(this,fg['get']('data')['panorama'])==f9;}['bind'](this));if(ff)return _getObject(this,ff);}}return undefined;}function _getPlayersWithViewer(fh){var fi=this['getCurrentPlayers']();var fj=fi['length'];while(fj-->0x0){var fk=fi[fj];if(fk['get']('viewerArea')!=fh){fi['splice'](fj,0x1);}}return fi;}function _createInstance(fl,fm,fn){var fo=fl['createInstance'](fm);if(fn){fo['set']('id',fn);fl[fn]=fo;}return fo;}function _createInstanceFromObj(fp,fq){return fr(fq);function fr(fs,ft){if(typeof fs=='object'){if('class'in fs){try{ft=_createInstance(fp,fs['class'],fs['id']);}catch(fx){ft=fs;}}else{ft=fs;}}var fu=function(fy,fz){if('set'in ft)ft['set'](fy,fz);else ft[fy]=fz;};for(var fv in fs){var fw=fs[fv];if(typeof fw=='object'&&fw!==null)fu(fv,fr(fw,ft));else if(typeof fw=='string'&&fw['indexOf']('this.')==0x0)fu(fv,fp[fw['replace']('this.','')]);else fu(fv,fw);}return ft;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fA,fB){for(var fC in fA){var fD=fA[fC];if(typeof fD=='object'&&fD!==null)this['assignObjRecursively'](fA[fC],fB[fC]||(fB[fC]={}));else fB[fC]=fD;}return fB;};TDV['Tour']['Script']['autotriggerAtStart']=function(fE,fF,fG){var fH=function(fI){fF();if(fG==!![])fE['unbind']('change',fH,this);};fE['bind']('change',fH,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fJ,fK,fL){var fM=function(){fN['unbind']('stop',fM,this);if(fL==fP['get']('backgroundColor')&&fS==fP['get']('backgroundColorRatios')){fP['set']('backgroundColor',fQ);fP['set']('backgroundColorRatios',fR);}};var fN=fJ['get']('items')[fK];var fO=fN['get']('player');var fP=fO['get']('viewerArea');var fQ=fP['get']('backgroundColor');var fR=fP['get']('backgroundColorRatios');var fS=[0x0];if(fL!=fQ||fS!=fR){fP['set']('backgroundColor',fL);fP['set']('backgroundColorRatios',fS);fN['bind']('stop',fM,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fT,fU,fV){var fW=function(){fX['unbind']('stop',fW,this);if(g0==fZ['get']('backgroundOpacity')){fZ['set']('opacity',g0);}};var fX=fT['get']('items')[fU];var fY=fX['get']('player');var fZ=fY['get']('viewerArea');var g0=fZ['get']('backgroundOpacity');if(fV!=g0){fZ['set']('backgroundOpacity',fV);fX['bind']('stop',fW,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(g1,g2){var g3=g1['get']('selectedIndex');if(g3>=0x0&&g2>=0x0&&g3!=g2){var g4=g1['get']('items')[g3];var g5=g1['get']('items')[g2];var g6=g4['get']('player');var g7=g5['get']('player');if((g6['get']('class')=='PanoramaPlayer'||g6['get']('class')=='Video360Player')&&(g7['get']('class')=='PanoramaPlayer'||g7['get']('class')=='Video360Player')){var g8=this['clonePanoramaCamera'](g5['get']('camera'));this['setCameraSameSpotAsMedia'](g8,g4['get']('media'));var g9=g8['get']('initialPosition');if(g9['get']('yaw')==undefined||g9['get']('pitch')==undefined||g9['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g5['get']('media'),g8);}}};TDV['Tour']['Script']['clone']=function(gb,gc){var gd=this['rootPlayer']['createInstance'](gb['get']('class'));var ge=gb['get']('id');if(ge){var gf=ge+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);gd['set']('id',gf);this[gf]=gd;}for(var gg=0x0;gg<gc['length'];++gg){var gh=gc[gg];var gi=gb['get'](gh);if(gi!=null)gd['set'](gh,gi);}return gd;};TDV['Tour']['Script']['cloneBindings']=function(gj,gk,gl){var gm=gj['getBindings'](gl);for(var gn=0x0;gn<gm['length'];++gn){var go=gm[gn];if(typeof go=='string')go=new Function('event',go);gk['bind'](gl,go,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(gp){var gq=this['clone'](gp,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var gr=['initialSequence','idleSequence'];for(var gs=0x0;gs<gr['length'];++gs){var gt=gr[gs];var gu=gp['get'](gt);if(gu){var gv=this['clone'](gu,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gq['set'](gt,gv);var gw=gu['get']('movements');var gx=[];var gy=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gz=0x0;gz<gw['length'];++gz){var gA=gw[gz];var gB=this['clone'](gA,gy);var gC=gA['getBindings']('end');if(gC['length']>0x0){for(var gD=0x0;gD<gC['length'];++gD){var gE=gC[gD];if(typeof gE=='string'){gE=gE['replace'](gp['get']('id'),gq['get']('id'));gE=new Function('event',gE);gB['bind']('end',gE,this);}}}gx['push'](gB);}gv['set']('movements',gx);}}return gq;};TDV['Tour']['Script']['copyObjRecursively']=function(gF){var gG={};for(var gH in gF){var gI=gF[gH];if(typeof gI=='object'&&gI!==null)gG[gH]=this['copyObjRecursively'](gF[gH]);else gG[gH]=gI;}return gG;};TDV['Tour']['Script']['copyToClipboard']=function(gJ){if(navigator['clipboard']){navigator['clipboard']['writeText'](gJ);}else{var gK=document['createElement']('textarea');gK['value']=gJ;gK['style']['position']='fixed';document['body']['appendChild'](gK);gK['focus']();gK['select']();try{document['execCommand']('copy');}catch(gL){}document['body']['removeChild'](gK);}};TDV['Tour']['Script']['createTween']=function(gM,gN,gO,gP,gQ){var gR=this['rootPlayer']['createInstance']('Effect');var gS=this['get']('data')['tweensState'];if(!gS){this['get']('data')['tweensState']=gS={};}var gT='get'in gM&&typeof gM['get']==='function';var gU=(gT&&gM['get']('id')?gM['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gV={};for(var gW in gN){var gX=gN[gW];if(gW['startsWith']('on')&&(typeof gX==='function'||typeof gX==='string')){var gY=gW['slice'](0x2);if(typeof gX==='string')gX=eval('('+gX+')');gR['bind'](gY['charAt'](0x0)['toLowerCase']()+gY['slice'](0x1),gX,this);}else if(typeof gX==='string'&&gX['startsWith']('#')){var gZ=parseInt('0x'+(gT?gM['get'](gW)['slice'](0x1):gM[gW]['slice'](0x1)));var h0=parseInt('0x'+gX['slice'](0x1));gV[gW]={'color':!![],'initialRGB':[gZ>>0x10&0xff,gZ>>0x8&0xff,gZ&0xff],'finalRGB':[h0>>0x10&0xff,h0>>0x8&0xff,h0&0xff]};gS[gU+gW]=gR;}else{gV[gW]=gT?gM['get'](gW):gM[gW];if(gW=='yaw'&&Math['abs'](gX-gV[gW])>0xb4)gV[gW]=gV[gW]+(gX>gV[gW]?0x168:-0x168);gS[gU+gW]=gR;}}gR['set']('duration',(gO||0x0)*0x3e8);gR['set']('easing',gP||'cubic_in_out');gR['set']('animationDirection',gQ||'normal');gR['bind']('end',function(){for(var h1 in gV){if(gS[gU+h1]==gR)delete gS[gU+h1];}this['disposeInstance'](gR);},this);gR['bind']('frame',function(){var h2=gR['getPosition']();for(var h3 in gV){var h4=gV[h3];if(gS[gU+h3]!=gR)continue;if(typeof h4==='object'&&'color'in h4){var h5=Math['round'](h4['initialRGB'][0x0]+(h4['finalRGB'][0x0]-h4['initialRGB'][0x0])*h2);var h6=Math['round'](h4['initialRGB'][0x1]+(h4['finalRGB'][0x1]-h4['initialRGB'][0x1])*h2);var h7=Math['round'](h4['initialRGB'][0x2]+(h4['finalRGB'][0x2]-h4['initialRGB'][0x2])*h2);h4='#'+((0x1<<0x18)+(h5<<0x10)+(h6<<0x8)+h7)['toString'](0x10)['slice'](0x1);}else{h4=h4+(gN[h3]-h4)*h2;}if(gT)gM['set'](h3,h4);else gM[h3]=h4;}},this);return gR;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h8,h9,ha,hb){var hc=undefined;var hd=function(hh){if(hh['data']['previousSelectedIndex']==h9){if(hb)hb['call'](this);if(ha&&hc)hc['unbind']('end',ha,this);h8['unbind']('change',hd,this);}};if(ha){var he=h8['get']('items')[h9];var hf=he['get']('class');if(hf=='PanoramaPlayListItem'||hf=='Model3DPlayListItem'){var hg=he['get']('camera');if(hg!=undefined){hc=hg['get']('initialSequence');if(hc==undefined)hc=hg['get']('idleSequence');}}else{hc=he['get']('media');}if(hc){hc['bind']('end',ha,this);}}h8['bind']('change',hd,this);};TDV['Tour']['Script']['executeJS']=function(hi){try{eval(hi);}catch(hj){console['log']('Javascript\x20error:\x20'+hj);console['log']('\x20\x20\x20code:\x20'+hi);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hk){var hl=hk['get']('buttonPlayPause');if(typeof hl!=='undefined'&&hk['get']('state')=='playing'){if(!Array['isArray'](hl))hl=[hl];for(var hm=0x0;hm<hl['length'];++hm)hl[hm]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hn){var ho=this['getActivePlayerWithViewer'](hn);if(ho==undefined){return undefined;}return this['getMediaFromPlayer'](ho);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(hp){var hq=this['getActivePlayersWithViewer'](hp);if(hq['length']>0x1){hq['sort'](function(hr,hs){var ht=hr['get']('class');var hu=hs['get']('class');if(ht=='Model3DPlayer')return 0x1;else if(hu=='Model3DPlayer')return-0x1;else return 0x0;});}return hq['length']>0x0?hq[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(hv){var hw=this['getCurrentPlayers']();var hx=hw['length'];var hy=[];while(hx-->0x0){var hz=hw[hx];if(hz['get']('viewerArea')==hv){var hA=hz['get']('class');if(hA=='PanoramaPlayer'&&(hz['get']('panorama')!=undefined||hz['get']('video')!=undefined)||(hA=='VideoPlayer'||hA=='Video360Player')&&hz['get']('video')!=undefined||hA=='PhotoAlbumPlayer'&&hz['get']('photoAlbum')!=undefined||hA=='MapPlayer'&&hz['get']('map')!=undefined||hA=='Model3DPlayer'&&hz['get']('model')!=undefined)hy['push'](hz);}}return hy;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hB){var hC=undefined;var hD=undefined;switch(hB['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hC='PanoramaPlayer';hD='panorama';break;case'Video360':hC='PanoramaPlayer';hD='video';break;case'PhotoAlbum':hC='PhotoAlbumPlayer';hD='photoAlbum';break;case'Map':hC='MapPlayer';hD='map';break;case'Video':hC='VideoPlayer';hD='video';break;case'Model3D':hC='Model3DPlayer';hD='media';break;}if(hC!=undefined){var hE=this['getByClassName'](hC);for(var hF=0x0;hF<hE['length'];++hF){var hG=hE[hF];if(hG['get'](hD)==hB){return hG;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hH=this['getByClassName']('PanoramaPlayer');hH=hH['concat'](this['getByClassName']('VideoPlayer'));hH=hH['concat'](this['getByClassName']('Video360Player'));hH=hH['concat'](this['getByClassName']('PhotoAlbumPlayer'));hH=hH['concat'](this['getByClassName']('MapPlayer'));hH=hH['concat'](this['getByClassName']('Model3DPlayer'));return hH;};TDV['Tour']['Script']['getGlobalAudio']=function(hI){var hJ=window['currentGlobalAudios'];if(hJ!=undefined&&hI['get']('id')in hJ){hI=hJ[hI['get']('id')]['audio'];}return hI;};TDV['Tour']['Script']['getMediaByName']=function(hK){var hL=this['getByClassName']('Media');for(var hM=0x0,hN=hL['length'];hM<hN;++hM){var hO=hL[hM];var hP=hO['get']('data');if(hP&&hP['label']==hK){return hO;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hQ,hR){return this['_getObjectsByTags'](hQ,['Media'],'tags2Media',hR);};TDV['Tour']['Script']['getAudioByTags']=function(hS,hT){return this['_getObjectsByTags'](hS,['Audio'],'tags2Media',hT);};TDV['Tour']['Script']['getOverlaysByTags']=function(hU,hV){var hW=this['_getObjectsByTags'](hU,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hV);return hW['map'](hX=>{return hX['get']('class')=='PanoramaModel3DLocation'?hX['get']('data')['object']:hX;});};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hY){var hZ=this['get']('data');var i0='groupname2Overlays';var i1=hZ[i0];if(!i1){var i2=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hZ[i0]=i1={};for(var i3=0x0;i3<i2['length'];++i3){var i4=i2[i3];var i5=this['getByClassName'](i4);for(var i6=0x0,i7=i5['length'];i6<i7;++i6){var i8=i5[i6];var i9=i8['get']('data');if(i9&&i9['group']){var ia=i1[i9['group']];if(!ia)i1[i9['group']]=ia=[];ia['push'](i8);}}}}return i1[hY]||[];};TDV['Tour']['Script']['getRootOverlay']=function(ib){var ic=ib['get']('class');var ie=ic['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var ig=ic['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(ie||ig){var ih=this['get']('data');var ii='overlays';var ij=ih[ii];if(!ij){var ik=['HotspotPanoramaOverlay'];ij=[];for(var il=0x0;il<ik['length'];++il){var im=ik[il];ij=ij['concat'](this['getByClassName'](im));}ih[ii]=ij;}var io=ie?'areas':'items';for(var ip=0x0,iq=ij['length'];ip<iq;++ip){var ir=ij[ip];var is=ir['get'](io);if(is){for(var it=0x0;it<is['length'];++it){if(is[it]==ib)return ir;}}}}return ib;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(iu){var iv=this['getOverlaysByGroupname'](iu);if(iv['length']>0x1){iv['sort'](function(iC,iD){var iE=iC['get']('data')['groupIndex'];var iF=iD['get']('data')['groupIndex'];return iE-iF;});for(var iw=0x0,ix=iv['length'];iw<ix;++iw){var iy=iv[iw];var iz=iv[(iw+0x1)%ix];var iA=iy['get']('class');var iB=iy;if(iA=='HotspotPanoramaOverlay'){iB=iy['get']('areas')[0x0];}iB['bind']('click',function(iG,iH){this['setOverlaysVisibility']([iG],![]);this['setOverlaysVisibility']([iH],!![]);}['bind'](this,iy,iz),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iI,iJ){return this['_getObjectsByTags'](iI,['UIComponent'],'tags2Components',iJ);};TDV['Tour']['Script']['_getObjectsByTags']=function(iK,iL,iM,iN){var iO=this['get']('data');var iP=iO[iM];if(!iP){iO[iM]=iP={};for(var iQ=0x0;iQ<iL['length'];++iQ){var iR=iL[iQ];var iS=this['getByClassName'](iR);for(var iU=0x0,iW=iS['length'];iU<iW;++iU){var iY=iS[iU];var iZ=iY['get']('data');if(iZ&&iZ['tags']){var j0=iZ['tags'];for(var j3=0x0,j4=j0['length'];j3<j4;++j3){var j5=j0[j3];if(j5 in iP)iP[j5]['push'](iY);else iP[j5]=[iY];}}}}}var j6=undefined;iN=iN||'and';for(var iU=0x0,iW=iK['length'];iU<iW;++iU){var j7=iP[iK[iU]];if(!j7)continue;if(!j6)j6=j7['concat']();else{if(iN=='and'){for(var j3=j6['length']-0x1;j3>=0x0;--j3){if(j7['indexOf'](j6[j3])==-0x1)j6['splice'](j3,0x1);}}else if(iN=='or'){for(var j3=j7['length']-0x1;j3>=0x0;--j3){var iY=j7[j3];if(j6['indexOf'](iY)==-0x1)j6['push'](iY);}}}}return j6||[];};TDV['Tour']['Script']['getComponentByName']=function(j8){var j9=this['getByClassName']('UIComponent');for(var ja=0x0,jb=j9['length'];ja<jb;++ja){var jc=j9[ja];var jd=jc['get']('data');if(jd!=undefined&&jd['name']==j8){return jc;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var je='MainViewer';return this[je]||this[je+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(jf){switch(jf['get']('class')){case'PanoramaPlayer':return jf['get']('panorama')||jf['get']('video');case'VideoPlayer':case'Video360Player':return jf['get']('video');case'PhotoAlbumPlayer':return jf['get']('photoAlbum');case'MapPlayer':return jf['get']('map');case'Model3DPlayer':return jf['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(jg){switch(jg['get']('class')){case'Video360':var jh=jg['get']('video');if(jh instanceof Array){var ji=0x0;for(var jj=0x0;jj<jh['length'];jj++){var jk=jh[jj];if(jk['get']('width')>ji)ji=jk['get']('width');}return ji;}else{return jk['get']('width');}default:return jg['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(jl){switch(jl['get']('class')){case'Video360':var jm=jl['get']('video');if(jm instanceof Array){var jn=0x0;for(var jo=0x0;jo<jm['length'];jo++){var jp=jm[jo];if(jp['get']('height')>jn)jn=jp['get']('height');}return jn;}else{return jp['get']('height');}default:return jl['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jq){switch(jq['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var jr=jq['get']('overlays')['concat']()||[];var js=jq['get']('frames');for(var jt=0x0;jt<js['length'];++jt){jr=jr['concat'](js[jt]['get']('overlays')||[]);}return jr;case'Video360':case'Map':return jq['get']('overlays')||[];case'Model3D':return jq['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(ju,jv){var jw=this['getOverlays'](ju);for(var jx=0x0,jy=jw['length'];jx<jy;++jx){var jz=jw[jx];var jA=jz['get']('data');if(jA!=undefined&&jA['label']==jv){return jz;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jB,jC,jD){var jE=[];var jF=this['getOverlays'](jB);var jG=this['getOverlaysByTags'](jC,jD);for(var jH=0x0,jI=jF['length'];jH<jI;++jH){var jJ=jF[jH];if(jG['indexOf'](jJ)!=-0x1)jE['push'](jJ);}return jE;};TDV['Tour']['Script']['getPixels']=function(jK){var jL=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jK);if(jL==undefined){return 0x0;}var jM=parseFloat(jL[0x1]);var jN=jL[0x4];var jO=this['rootPlayer']['get']('actualWidth')/0x64;var jP=this['rootPlayer']['get']('actualHeight')/0x64;switch(jN){case'vw':return jM*jO;case'vh':return jM*jP;case'vmin':return jM*Math['min'](jO,jP);case'vmax':return jM*Math['max'](jO,jP);default:return jM;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jQ,jR){var jS=[];var jT=this['getByClassName']('PlayList');for(var jU=0x0,jV=jT['length'];jU<jV;++jU){var jW=jT[jU];if(jR&&jW['get']('selectedIndex')==-0x1)continue;var jX=this['getPlayListItemByMedia'](jW,jQ);if(jX!=undefined&&jX['get']('player')!=undefined)jS['push'](jW);}return jS;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jY){var jZ=this['getByClassName']('PlayList');var k0=function(k2){var k3=k2['get']('items');for(var k4=k3['length']-0x1;k4>=0x0;--k4){var k5=k3[k4];var k6=k5['get']('player');if(k6!==undefined&&k6['get']('viewerArea')==jY)return!![];}return![];};for(var k1=jZ['length']-0x1;k1>=0x0;--k1){if(!k0(jZ[k1]))jZ['splice'](k1,0x1);}return jZ;};TDV['Tour']['Script']['getPlayListWithItem']=function(k7){var k8=this['getByClassName']('PlayList');for(var k9=k8['length']-0x1;k9>=0x0;--k9){var ka=k8[k9];var kb=ka['get']('items');for(var kc=kb['length']-0x1;kc>=0x0;--kc){var kd=kb[kc];if(kd==k7)return ka;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(ke,kf){var kg=this['getPlayListsWithMedia'](ke,kf);return kg['length']>0x0?kg[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(kh,ki){var kj=kh['get']('items');for(var kk=0x0,kl=kj['length'];kk<kl;++kk){var km=kj[kk];if(km['get']('media')==ki)return km;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(kn,ko){var kp=this['getPlayListItemByMedia'](kn,ko);return kp?kn['get']('items')['indexOf'](kp):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(kq,kr){var ks=function(){switch(kq['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(ks!=undefined){var kt=this['getByClassName'](ks);for(var ku=kt['length']-0x1;ku>=0x0;--ku){var kv=kt[ku];if(kv['get']('media')!=kq||kr!=undefined&&kv['get']('player')!=kr){kt['splice'](ku,0x1);}}return kt;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(kw){var kx=this['get']('data')['history'][kw['get']('id')];if(kx!=undefined){kx['back']();}};TDV['Tour']['Script']['historyGoForward']=function(ky){var kz=this['get']('data')['history'][ky['get']('id')];if(kz!=undefined){kz['forward']();}};TDV['Tour']['Script']['init']=function(){var kA=this['get']('data')['history'];var kB=function(kK){var kL=kK['source'];var kM=kL['get']('selectedIndex');if(kM<0x0)return;var kN=kL['get']('id');if(!kA['hasOwnProperty'](kN))kA[kN]=new TDV['Tour']['HistoryData'](kL);kA[kN]['add'](kM);};var kC=this['getByClassName']('PlayList');for(var kE=0x0,kF=kC['length'];kE<kF;++kE){var kG=kC[kE];kG['bind']('change',kB,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kH=this['getByClassName']('ThumbnailList');kH=kH['concat'](this['getByClassName']('ThumbnailGrid'));kH=kH['concat'](this['getByClassName']('DropDown'));function kO(kP){var kQ=kP['source']['get']('playList');var kR=kQ['get']('selectedIndex');if(kR>=0x0){this['skip3DTransitionOnce'](kQ['get']('items')[kR]['get']('player'));}}for(var kE=0x0,kI=kH['length'];kE<kI;++kE){var kJ=kH[kE];kJ['bind']('change',kO,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kS,kT,kU){if(window['dataLayer']){window['dataLayer']['push']({'event':kT,'label':kU,'category':kS});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kS,kT,kU);}if(window['gtag']){window['gtag']('event',kT,{'category':kS,'label':kU});}};TDV['Tour']['Script']['initAnalytics']=function(){var kW=this['getByClassName']('Panorama');kW=kW['concat'](this['getByClassName']('Video360'));kW=kW['concat'](this['getByClassName']('Map'));kW=kW['concat'](this['getByClassName']('Model3D'));for(var kZ=0x0,l2=kW['length'];kZ<l2;++kZ){var l3=kW[kZ];var l6=l3['get']('data');var l7=l6?l6['label']:'';var l8=this['getOverlays'](l3);for(var l9=0x0,la=l8['length'];l9<la;++l9){var lb=l8[l9];var lc=lb['get']('data')!=undefined?l7+'\x20-\x20'+lb['get']('data')['label']:l7;switch(lb['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var ld=lb['get']('areas');for(var le=0x0;le<ld['length'];++le){ld[le]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lc),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':lb['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',lc),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':lb['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lc),this,![]);lb['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',lc),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':lb['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lc),this,![]);break;}}}var lf=this['getByClassName']('UIComponent');for(var kZ=0x0,l2=lf['length'];kZ<l2;++kZ){var lg=lf[kZ];var lh=lg['getBindings']('click');if(lh['length']>0x0){var l6=lg['get']('data');if(l6===undefined)continue;var li=l6['name'];lg['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',li),this,![]);}}var lj=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var lk={};for(var kZ=0x0,l2=lj['length'];kZ<l2;++kZ){var ll=lj[kZ];var kW=ll['get']('media');if(!(kW['get']('id')in lk)){var l6=kW['get']('data');ll['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',l6?l6['label']:undefined),this,![]);lk[kW['get']('id')]=ll;}}if(TDV['Remote']!=undefined){var lm=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(ln){lm=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+ln);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(lo){var lp=new Date();lp['setTime'](Date['now']()-lm);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+lo+'\x20Duration:\x20'+lp['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(lq,lr,ls){var lt={"question":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"closeButton":{"width":45,"backgroundColor":"#009FE3","iconLineWidth":2,"iconColor":"#FFFFFF","iconWidth":18,"iconHeight":18,"height":45},"paddingBottom":20,"bodyContainer":{"width":"100%","paddingRight":30,"height":"100%","paddingBottom":30,"layout":"horizontal","paddingLeft":30,"gap":35},"paddingRight":20,"backgroundOpacity":1,"title":{"fontColor":"#000000","fontWeight":"bold","textAlign":"center","fontFamily":"Arial","paddingBottom":40,"paddingRight":50,"paddingLeft":50,"fontSize":20,"paddingTop":25},"shadowSpread":4,"minWidth":500,"shadowHorizontalLength":0,"shadowOpacity":0.3,"borderRadius":5,"horizontalAlign":"center","width":"60%","shadowBlurRadius":4,"shadow":true,"optionsContainer":{"gap":10,"width":"30%","overflow":"scroll","contentOpaque":true,"height":"100%"},"height":"60%","option":{"text":{"fontColor":"#404040","verticalAlign":"middle","fontFamily":"Arial","selected":{"textAlign":"left","fontColor":"#000000","fontSize":18,"fontFamily":"Arial","paddingTop":9},"textAlign":"left","fontSize":18,"paddingTop":9},"label":{"horizontalAlign":"center","width":38,"fontColor":"#ffffff","fontSize":18,"fontFamily":"Arial","backgroundColor":"#000000","verticalAlign":"middle","height":38,"backgroundOpacity":0.2,"correct":{"horizontalAlign":"center","width":38,"fontColor":"#ffffff","fontSize":18,"fontFamily":"Arial","backgroundColor":"#39b54a","verticalAlign":"middle","height":38,"backgroundOpacity":1,"borderRadius":19,"fontWeight":"bold","pressedBackgroundOpacity":1},"borderRadius":19,"fontWeight":"bold","incorrect":{"horizontalAlign":"center","width":38,"fontColor":"#ffffff","fontSize":18,"fontFamily":"Arial","backgroundColor":"#ed1c24","verticalAlign":"middle","height":38,"backgroundOpacity":1,"borderRadius":19,"fontWeight":"bold","pressedBackgroundOpacity":1},"pressedBackgroundOpacity":1},"gap":10},"backgroundColor":"#ffffff","shadowColor":"#000000","mediaContainer":{"width":"70%","viewerArea":{"playbackBarProgressBackgroundColor":"#3399ff","playbackBarHeadShadowOpacity":0.3,"playbackBarBorderSize":0,"playbackBarHeadOpacity":1,"playbackBarBackgroundOpacity":0.5,"backgroundOpacity":1,"playbackBarHeadShadowVerticalLength":0,"playbackBarBackgroundColor":"#000000","playbackBarHeadShadowBlurRadius":2,"playbackBarHeadBorderRadius":7,"playbackBarHeight":6,"playbackBarHeadBackgroundColor":"#cccccc","playbackBarRight":0,"backgroundColor":"#e6e6e6","playbackBarProgressOpacity":0.5,"playbackBarLeft":0,"playbackBarHeadWidth":14,"playbackBarHeadShadowColor":"#000000","playbackBarBottom":5,"playbackBarBorderRadius":0,"playbackBarHeadBorderColor":"#ffffff","playbackBarHeadShadowHorizontalLength":0,"playbackBarHeadShadowSpread":2,"playbackBarHeadHeight":14,"playbackBarHeadShadow":true,"playbackBarHeadBorderSize":3},"buttonNext":{"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=","width":25,"height":37},"buttonPrevious":{"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC","width":25,"height":37},"height":"100%"},"buttonsContainer":{"horizontalAlign":"right","button":{"horizontalAlign":"center","paddingLeft":25,"fontColor":"#ffffff","verticalAlign":"middle","fontFamily":"Arial","backgroundColor":"#000000","paddingBottom":10,"paddingRight":25,"backgroundOpacity":0.7,"borderRadius":3,"fontWeight":"bold","fontSize":18,"paddingTop":10},"verticalAlign":"bottom"},"paddingLeft":20,"shadowVerticalLength":0,"paddingTop":20}},"score":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"horizontalAlign":"center","stats":{"horizontalAlign":"center","layout":"vertical","secondaryValue":{"paddingLeft":5,"fontColor":"#000000","fontWeight":"bold","fontSize":20,"fontFamily":"Arial"},"height":150,"borderColor":"#009fe3","mainValue":{"fontColor":"#000000","fontWeight":"bold","fontSize":40,"fontFamily":"Arial"},"label":{"fontColor":"#000000","fontWeight":"normal","fontSize":15,"fontFamily":"Arial"},"borderSize":1,"title":{"fontColor":"#000000","fontWeight":"normal","fontFamily":"Arial","paddingRight":5,"paddingLeft":5,"fontSize":20,"paddingTop":10},"gap":0,"borderRadius":75,"minWidth":150,"verticalAlign":"middle"},"shadowBlurRadius":4,"shadowHorizontalLength":0,"shadowVerticalLength":0,"backgroundColor":"#ffffff","content":{"horizontalAlign":"center","width":"100%"},"paddingBottom":20,"shadowColor":"#000000","minWidth":500,"title":{"fontColor":"#000000","textAlign":"center","fontFamily":"Arial","paddingBottom":15,"fontWeight":"bold","fontSize":50,"paddingTop":50},"paddingRight":20,"timeContainer":{"horizontalAlign":"center","width":"100%","gap":5,"paddingBottom":15,"paddingRight":100,"paddingLeft":100,"verticalAlign":"middle","paddingTop":10},"buttonsContainer":{"horizontalAlign":"center","width":"100%","button":{"horizontalAlign":"center","fontColor":"#ffffff","verticalAlign":"middle","fontFamily":"Arial","backgroundColor":"#009fe3","paddingBottom":12,"paddingRight":25,"fontWeight":"bold","paddingLeft":25,"fontSize":15,"paddingTop":12},"gap":8,"paddingBottom":50,"paddingRight":100,"paddingLeft":100,"verticalAlign":"middle","paddingTop":35},"closeButton":{"width":45,"backgroundColor":"#009fe3","iconLineWidth":2,"iconColor":"#ffffff","iconWidth":18,"iconHeight":18,"height":45},"paddingLeft":20,"description":{"fontColor":"#000000","fontWeight":"normal","textAlign":"center","fontFamily":"Arial","paddingBottom":15,"paddingRight":100,"paddingLeft":100,"fontSize":16,"paddingTop":15},"shadowSpread":4,"calification":{"width":"100%","fontColor":"#009fe3","fontWeight":"bold","fontSize":30,"fontFamily":"Arial","paddingBottom":10,"paddingRight":100,"paddingLeft":100,"textAlign":"center","verticalAlign":"middle","paddingTop":15},"statsContainer":{"horizontalAlign":"center","overflow":"scroll","gap":20,"paddingBottom":15,"paddingRight":100,"paddingLeft":100,"contentOpaque":true,"verticalAlign":"middle","paddingTop":15},"maxWidth":1500,"shadow":true,"shadowOpacity":0.3,"paddingTop":20}},"timeout":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"horizontalAlign":"center","paddingLeft":80,"shadow":true,"backgroundColor":"#ffffff","paddingBottom":55,"shadowColor":"#000000","title":{"fontColor":"#000000","fontSize":40,"fontFamily":"Arial","paddingBottom":20,"fontWeight":"bold","textAlign":"center"},"paddingRight":80,"buttonsContainer":{"horizontalAlign":"center","width":"100%","gap":10},"shadowOpacity":0.3,"gap":15,"shadowSpread":4,"icon":{"width":62,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","height":72},"shadowBlurRadius":4,"shadowHorizontalLength":0,"button":{"horizontalAlign":"center","fontColor":"#ffffff","verticalAlign":"middle","fontFamily":"Arial","backgroundColor":"#009fe3","paddingBottom":12,"paddingRight":25,"fontWeight":"bold","paddingLeft":25,"fontSize":15,"paddingTop":12},"shadowVerticalLength":0,"paddingTop":45}}};var lu=this['get']('data');var lv=lu['createQuizConfig']['call'](this);lG['call'](this,lv);lv['playList']=lq;lv['player']=this;lv['theme']='theme'in lv?this['mixObject'](lt,lv['theme']):lt;if(lv['questions']){lF['call'](this,lv['questions']);for(var lw=0x0;lw<lv['questions']['length'];++lw){var lx=lv['questions'][lw];lF['call'](this,lx['options']);}}if(lv['objectives']){lF['call'](this,lv['objectives']);}if(lv['califications']){lF['call'](this,lv['califications']);}if(lv['score']){this[lv['score']['id']]=lv['score'];}if(lv['question']){this[lv['question']['id']]=lv['question'];}if(lv['timeout']){this[lv['timeout']['id']]=lv['timeout'];}var ly=lv['data']&&lv['data']['titlesScale']?lv['data']['titlesScale']:0x1;var lz=lv['data']&&lv['data']['bodyScale']?lv['data']['bodyScale']:0x1;if(this['get']('isMobile')&&!this['get']('data')['tour']['isIPad']()){var lA=this['mixObject'](lv['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*lz,'paddingLeft':0xa,'paddingRight':0xa}}}});lv['theme']=lA;}var lB=document['getElementById']('metaViewport');var lC=lB?/initial-scale=(\d+(\.\d+)?)/['exec'](lB['getAttribute']('content')):undefined;var lD=lC?lC[0x1]:0x1;lu['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/lD,'maxHeight':0x258/lD,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lu['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*ly,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var lE=new TDV['Quiz'](lv);lE['setMaxListeners'](0x32);if(ls===!![]){lE['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((lE['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+lE['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(lE['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+lE['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)setTimeout(function(){lE['finish']();},0x0);}['bind'](this));}if(lr===!![]){lE['start']();}lu['quiz']=lE;lu['quizConfig']=lv;function lF(lH){for(var lI=0x0;lI<lH['length'];++lI){var lJ=lH[lI];if('id'in lJ)this[lJ['id']]=lJ;}}function lG(lK){for(var lL in lK){var lM=lK[lL];if(typeof lM=='object'&&lM!==null)lG['call'](this,lM);else if(typeof lM=='string'&&lM['startsWith']('this.'))lK[lL]=_getObject(this,lM);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lN){var lO=this['get']('data')['quiz'];var lP=this['get']('data')['quizConfig'];var lQ=lP['objectives'];var lR=0x0;for(var lS=0x0,lT=lQ['length'];lS<lT;++lS){var lU=lQ[lS];lR+=lO['getObjective'](lU['id'],lN);}return lR;};TDV['Tour']['Script']['_initSplitViewer']=function(lV){function lW(){var mj=lV['get']('actualWidth');m8['get']('children')[0x0]['set']('width',mj);m9['get']('children')[0x0]['set']('width',mj);var mk=mc['get']('left');var ml=typeof mk=='string'?lX(mk):mk;ml+=mc['get']('actualWidth')*0.5;m8['set']('width',lY(ml));m9['set']('width',lY(mj-ml));}function lX(mm){return parseFloat(mm['replace']('%',''))/0x64*lV['get']('actualWidth');}function lY(mn){return mn/lV['get']('actualWidth')*0x64+'%';}function lZ(mo){m0(mo['source']);}function m0(mp){var mq=mp==me?md:me;if(mf&&mp!=mf||!mp||!mq)return;var mr=mp['get']('class');var ms=mq['get']('class');if(mr=='PanoramaPlayer'&&ms=='PanoramaPlayer'){var mt=mq['get']('camera')['get']('initialPosition')['get']('yaw')-mp['get']('camera')['get']('initialPosition')['get']('yaw');mq['setPosition'](mp['get']('yaw')+mt,mp['get']('pitch'),mp['get']('roll'),mp['get']('hfov'));}else if(mr=='Model3DPlayer'&&ms=='Model3DPlayer'){var mu=mp['get']('model')['get']('camera');var mv=mq['get']('model')['get']('camera');var mw=['yaw','pitch','x','y','z','fov'];if(mu['get']('class')=='OrbitModel3DCamera'&&mv['get']('class')=='OrbitModel3DCamera')mw['push']('distance');mw['forEach'](mx=>{mv['set'](mx,mu['get'](mx));});}}function m1(my){mf=my['source'];}function m2(mz){m5['call'](this,mz['source']);}function m3(mA){var mB=mA['get']('viewerArea');if(mB==ma){if(md&&md['get']('class')=='PanoramaPlayer'){md['get']('camera')['set']('hoverFactor',mg);}md=mA;mf=md;if(md&&md['get']('class')=='PanoramaPlayer'){mg=md['get']('camera')['get']('hoverFactor');md['get']('camera')['set']('hoverFactor',0x0);}}else if(mB==mb){if(me&&me['get']('class')=='PanoramaPlayer'){me['get']('camera')['set']('hoverFactor',mh);}me=mA;mf=me;if(me&&me['get']('class')=='PanoramaPlayer'){mh=me['get']('camera')['get']('hoverFactor');me['get']('camera')['set']('hoverFactor',0x0);}}m0(mA);}function m4(mC){var mD=this['getCurrentPlayers']();var mE=mD['length'];while(mE-->0x0){var mG=mD[mE];if(mG['get']('viewerArea')!=mC){mD['splice'](mE,0x1);}}for(mE=0x0;mE<mD['length'];++mE){var mG=mD[mE];mG['bind']('preloadMediaShow',m2,this);if(mG['get']('class')=='PanoramaPlayer'){mG['bind']('cameraPositionChange',lZ,this);mG['bind']('userInteractionStart',m1,this);}m5['call'](this,mG);}return mD;}function m5(mH){var mI=mi['find'](mK=>{return mK['player']==mH;});if(mI){if(mI['media']['get']('class')=='Model3D'){mI['media']['get']('camera')['unbind']('positionSet',mI['updateFn'],this);mI['media']['get']('camera')['unbind']('userInteractionStart',mI['userInteractionStartFn'],this);}mi['splice'](mi['indexOf'](mI),0x1);}var mJ=this['getMediaFromPlayer'](mH);if(!mJ)return;mI={'media':mJ,'player':mH,'updateFn':()=>{m0(mH);},'userInteractionStartFn'(){mf=mH;}};mi['push'](mI);if(mI['media']['get']('class')=='Model3D'){mI['media']['get']('camera')['bind']('positionSet',mI['updateFn'],this);mI['media']['get']('camera')['bind']('userInteractionStart',mI['userInteractionStartFn'],this);}m3(mH);}function m6(mL){m3(this['getActivePlayerWithViewer'](mL['source']));m0(mf);}var m7=lV['get']('children');var m8=m7[0x0];var m9=m7[0x1];var ma=m8['get']('children')[0x0];var mb=m9['get']('children')[0x0];var mc=m7[0x2];var md,me,mf;var mg,mh;var mi=[];m4['call'](this,ma);m4['call'](this,mb);this['bind']('instanceCreation',mM=>{var mN=mM['data']['instance'];var mO=mN['get']('class');if(mO=='PanoramaPlayer'||mO=='Model3DPlayer'){mN['bind']('preloadMediaShow',m2,this);mN['bind']('cameraPositionChange',lZ,this);mN['bind']('userInteractionStart',m1,this);m5['call'](this,mN);}},this);ma['bind']('mouseDown',m6,this);mb['bind']('mouseDown',m6,this);lV['bind']('resize',function(){mc['set']('left',(lV['get']('actualWidth')-mc['get']('actualWidth'))*0.5);lW();},this);mc['bind']('mouseDown',function(mP){var mQ=mP['pageX'];var mR=function(mS){var mT=mS['pageX'];var mU=mQ-mT;var mV=lV['get']('actualWidth');var mW=mc['get']('left');var mX=(typeof mW=='string'?lX(mW):mW)-mU;if(mX<0x0){mT-=mX;mX=0x0;}else if(mX+mc['get']('actualWidth')>=mV){mT-=mX-(mV-mc['get']('actualWidth'));mX=mV-mc['get']('actualWidth');}mc['set']('left',mX);lW();mQ=mT;};this['bind']('mouseMove',mR,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',mR,this);},this);},this);lW();};TDV['Tour']['Script']['_initTwinsViewer']=function(mY){function mZ(){var nn=mY['get']('actualWidth');nc['get']('children')[0x0]['set']('width',nn);nd['get']('children')[0x0]['set']('width',nn);var no=ng['get']('left');var np=typeof no=='string'?n0(no):no;np+=ng['get']('actualWidth')*0.5;nc['set']('width',n1(np));nd['set']('width',n1(nn-np));}function n0(nq){return parseFloat(nq['replace']('%',''))/0x64*mY['get']('actualWidth');}function n1(nr){return nr/mY['get']('actualWidth')*0x64+'%';}function n2(ns){n3(ns['source']);}function n3(nt){var nu=nt==ni?nh:ni;if(nj&&nt!=nj||!nt||!nu)return;var nv=nt['get']('class');var nw=nu['get']('class');if(nv=='PanoramaPlayer'&&nw=='PanoramaPlayer'){var nx=nu['get']('camera')['get']('initialPosition')['get']('yaw')-nt['get']('camera')['get']('initialPosition')['get']('yaw');nu['setPosition'](nt['get']('yaw')+nx,nt['get']('pitch'),nt['get']('roll'),nt['get']('hfov'));}else if(nv=='Model3DPlayer'&&nw=='Model3DPlayer'){var ny=nt['get']('model')['get']('camera');var nz=nu['get']('model')['get']('camera');var nA=['yaw','pitch','x','y','z','fov'];if(ny['get']('class')=='OrbitModel3DCamera'&&nz['get']('class')=='OrbitModel3DCamera')nA['push']('distance');nA['forEach'](nB=>{nz['set'](nB,ny['get'](nB));});}}function n4(nC){nj=nC['source'];}function n5(nD){nj=nh;}function n6(nE){n9['call'](this,nE['source']);}function n7(nF){var nG=nF['get']('viewerArea');if(nG==ne){if(nh&&nh['get']('class')=='PanoramaPlayer'){nh['get']('camera')['set']('hoverFactor',nk);}nh=nF;nj=nh;if(nh&&nh['get']('class')=='PanoramaPlayer'){nk=nh['get']('camera')['get']('hoverFactor');nh['get']('camera')['set']('hoverFactor',0x0);}}else if(nG==nf){if(ni&&ni['get']('class')=='PanoramaPlayer'){ni['get']('camera')['set']('hoverFactor',nl);}ni=nF;nj=ni;if(ni&&ni['get']('class')=='PanoramaPlayer'){nl=ni['get']('camera')['get']('hoverFactor');ni['get']('camera')['set']('hoverFactor',0x0);}}n3(nF);}function n8(nH){var nI=this['getCurrentPlayers']();var nJ=nI['length'];while(nJ-->0x0){var nL=nI[nJ];if(nL['get']('viewerArea')!=nH){nI['splice'](nJ,0x1);}}for(nJ=0x0;nJ<nI['length'];++nJ){var nL=nI[nJ];nL['bind']('preloadMediaShow',n6,this);if(nL['get']('class')=='PanoramaPlayer'){nL['bind']('cameraPositionChange',n2,this);nL['bind']('userInteractionStart',n4,this);nL['bind']('userInteractionEnd',n5,this);}n9['call'](this,nL);}return nI;}function n9(nM){var nN=nm['find'](nP=>{return nP['player']==nM;});if(nN){if(nN['media']['get']('class')=='Model3D'){nN['media']['get']('camera')['unbind']('positionSet',nN['updateFn'],this);nN['media']['get']('camera')['unbind']('userInteractionStart',nN['userInteractionStartFn'],this);}nm['splice'](nm['indexOf'](nN),0x1);}var nO=this['getMediaFromPlayer'](nM);if(!nO)return;nN={'media':nO,'player':nM,'updateFn':()=>{n3(nM);},'userInteractionStartFn'(){nj=nM;}};nm['push'](nN);if(nN['media']['get']('class')=='Model3D'){nN['media']['get']('camera')['bind']('positionSet',nN['updateFn'],this);nN['media']['get']('camera')['bind']('userInteractionStart',nN['userInteractionStartFn'],this);}n7(nM);}function na(nQ){n7(this['getActivePlayerWithViewer'](nQ['source']));n3(nj);}var nb=mY['get']('children');var nc=nb[0x0];var nd=nb[0x1];var ne=nc['get']('children')[0x0];var nf=nd['get']('children')[0x0];var ng=nb[0x2];var nh,ni,nj;var nk,nl;var nm=[];n8['call'](this,ne);n8['call'](this,nf);this['bind']('instanceCreation',nR=>{var nS=nR['data']['instance'];if(nS['get']('class')=='PanoramaPlayer'){var nT=nS;nT['bind']('preloadMediaShow',n6,this);if(nT['get']('class')=='PanoramaPlayer'){nT['bind']('cameraPositionChange',n2,this);nT['bind']('userInteractionStart',n4,this);}n9['call'](this,nT);}},this);ne['bind']('mouseDown',na,this);nf['bind']('mouseDown',na,this);mY['bind']('resize',function(){ng['set']('left',(mY['get']('actualWidth')-ng['get']('actualWidth'))*0.5);mZ();},this);mZ();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var nU=this['getByClassName']('PanoramaPlayer');return nU['length']>0x0&&nU[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(nV){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](nV['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(nW,nX){var nY='keepVisibility_'+nW['get']('id');var nZ=this['getKey'](nY);if(nZ==undefined&&nX){this['registerKey'](nY,nX);}else if(nZ!=undefined&&!nX){this['unregisterKey'](nY);}};TDV['Tour']['Script']['_initItemWithComps']=function(o0,o1,o2,o3,o4,o5,o6,o7){var o8=o0['get']('items')[o1];var o9=o8['get']('media');var oa=o9['get']('loop')==undefined||o9['get']('loop');var ob=o7>0x0;var oc=this['rootPlayer'];var od=function(ol){var om=o5?o5['get']('class'):undefined;var on=undefined;switch(om){case'FadeInEffect':case'FadeOutEffect':on=oc['createInstance'](ol?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':on=oc['createInstance'](ol?'SlideInEffect':'SlideOutEffect');break;}if(on){on['set']('duration',o5['get']('duration'));on['set']('easing',o5['get']('easing'));if(om['indexOf']('Slide')!=-0x1)on['set'](ol?'from':'to',o5['get'](o5['get']('class')=='SlideInEffect'?'from':'to'));}return on;};var oe=function(){for(var oo=0x0,op=o2['length'];oo<op;++oo){var oq=o2[oo];if(o7>0x0){this['setComponentVisibility'](oq,!o4,0x0,od(!o4));}else{var or='visibility_'+oq['get']('id');if(this['existsKey'](or)){if(this['getKey'](or))this['setComponentVisibility'](oq,!![],0x0,od(!![]));else this['setComponentVisibility'](oq,![],0x0,od(![]));this['unregisterKey'](or);}}}o8['unbind']('end',oe,this);if(!oa)o9['unbind']('end',oe,this);};var of=function(){o8['unbind']('stop',of,this,!![]);o8['unbind']('stop',of,this);o8['unbind']('begin',of,this,!![]);o8['unbind']('begin',of,this);for(var os=0x0,ot=o2['length'];os<ot;++os){this['keepCompVisible'](o2[os],![]);}};var og=function(ou,ov,ow){var ox=function(){var oy=function(oC,oD,oE){oc['setComponentVisibility'](oC,oD,ov,oE,oD?'showEffect':'hideEffect',![]);if(ow>0x0){var oF=ov+ow+(oE!=undefined?oE['get']('duration'):0x0);oc['setComponentVisibility'](oC,!oD,oF,od(!oD),oD?'hideEffect':'showEffect',!![]);}};for(var oz=0x0,oA=o2['length'];oz<oA;++oz){var oB=o2[oz];if(o4=='toggle'){if(!oB['get']('visible'))oy(oB,!![],od(!![]));else oy(oB,![],od(![]));}else{oy(oB,o4,od(o4));}}o8['unbind'](ou,ox,this);if(ou=='end'&&!oa)o9['unbind'](ou,ox,this);};o8['bind'](ou,ox,this);if(ou=='end'&&!oa)o9['bind'](ou,ox,this);};if(o3=='begin'){for(var oh=0x0,oi=o2['length'];oh<oi;++oh){var oj=o2[oh];this['keepCompVisible'](oj,!![]);if(ob){var ok='visibility_'+oj['get']('id');this['registerKey'](ok,oj['get']('visible'));}}o8['bind']('stop',of,this,!![]);o8['bind']('stop',of,this);o8['bind']('begin',of,this,!![]);o8['bind']('begin',of,this);if(ob){o8['bind']('end',oe,this);if(!oa)o9['bind']('end',oe,this);}}else if(o3=='end'&&o7>0x0){og('begin',o7,0x0);o7=0x0;}if(o3!=undefined)og(o3,o6,o7);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(oG,oH,oI){var oJ=oG['get']('selectedIndex');var oK=oG['get']('items')['length'];var oL=(oJ+oH)%oK;while(oL<0x0){oL=oK+oL;}if(oJ!=oL){if(oI){var oM=oG['get']('items')[oL];this['skip3DTransitionOnce'](oM['get']('player'));}oG['set']('selectedIndex',oL);}};TDV['Tour']['Script']['mixObject']=function(oN,oO){return this['assignObjRecursively'](oO,this['copyObjRecursively'](oN));};TDV['Tour']['Script']['downloadFile']=function(oP){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var oQ=document['createElement']('a');oQ['href']=oP;oQ['setAttribute']('target','_blank');if(oQ['download']!==undefined){var oR=oP['substring'](oP['lastIndexOf']('/')+0x1,oP['length']);oQ['download']=oR;}if(document['createEvent']){var oS=document['createEvent']('MouseEvents');oS['initEvent']('click',!![],!![]);oQ['dispatchEvent'](oS);return;}}window['open'](oP,'_blank');};TDV['Tour']['Script']['openLink']=function(oT,oU){if(!oT||oT==location['href']){return;}if(!oU)oU='_blank';if(oU=='_top'||oU=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var oV=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(oV&&oU=='_blank'){if(oT['startsWith']('files/')){oT='/'+oT;}if(oT['startsWith']('//')){oT='https:'+oT;}else if(oT['startsWith']('/')){var oW=window['location']['href']['split']('/');oW['pop']();oT=oW['join']('/')+oT;}var oX=oT['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](oX)==-0x1||oT['startsWith']('file://'))&&window['hasOwnProperty']('require')){var oY=window['require']('electron')['shell'];oY['openExternal'](oT);}else{window['open'](oT,oU);}}else if(oV&&(oU=='_top'||oU=='_self')){window['location']=oT;}else{var oZ=this['get']('data')['tour'];if(oZ['isMobileApp']()&&oZ['isIOS']())oT='blank:'+oT;var p0=window['open'](oT,oU);p0['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(p1,p2){var p3=p1['get']('media');var p4=_findLocationWithPanorama['call'](this,p3);if(!p4){p2['call'](this);return;}var p5=p4['get']('model');var p6=p1['get']('player')['get']('viewerArea');var p8=this['getActivePlayersWithViewer'](p6);var pa=p8['length']==0x1?p8['find'](function(ph){return this['getMediaFromPlayer'](ph)==p5;}['bind'](this)):undefined;if(pa){p2['call'](this);}else{var p8=_getPlayersWithViewer['call'](this,p6);var pa=p8['find'](function(pi){return pi['get']('class')=='Model3DPlayer';});var pb,pc;if(!pa){pa=this['createInstance']('Model3DPlayer');pa['set']('viewerArea',p6);}else{var pd=this['getByClassName']('Model3DPlayListItem');pb=pd['find'](function(pj){return pj['get']('player')==pa;}['bind'](this));}if(!pb){pb=this['createInstance']('Model3DPlayListItem');pb['set']('player',pa);_initModel3DItem['call'](this,pb);}pb['set']('media',p5);var pe=p4['get']('forceModelLoading');p4['set']('forceModelLoading',!![]);var pf=function(){pb['unbind']('begin',pf,this);p2['call'](this);};var pg=function(){p1['unbind']('begin',pg,this);p4['set']('forceModelLoading',pe);if(pc)this['disposeInstance'](pc);};p1['bind']('begin',pg,this);if(pb['get']('state')=='playing')pf['call'](this);else{pb['bind']('begin',pf,this);pc=this['createInstance']('PlayList');pc['set']('items',[pb]);pc['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(pk){var pl=this['getCurrentPlayers']();var pm=pl['length'];while(pm-->0x0){var pn=pl[pm];if(pn['get']('state')=='playing'||pn['get']('data')&&pn['get']('data')['playing']||pn['get']('viewerArea')&&pn['get']('viewerArea')['get']('id')==this['getMainViewer']()||pn['get']('camera')&&pn['get']('camera')['get']('idleSequence')&&pn['get']('camera')['get']('timeToIdle')>0x0&&pn['get']('state')=='playing'||pn['get']('class')=='Model3DPlayer'&&pn['get']('model')&&pn['get']('model')['get']('camera')['get']('state')=='playing'){var po=this['getMediaFromPlayer'](pn);if(pk&&po&&po['get']('class')!='Video360'&&'pauseCamera'in pn){pn['pauseCamera']();}else{pn['pause']();}}else{pl['splice'](pm,0x1);}}return pl;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(pp,pq,pr){var ps=function(){if(pp['get']('selectedIndex')!=pq){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](pr,!![]);this['executeFunctionWhenChange'](pp,pq,ps,ps);};TDV['Tour']['Script']['pauseGlobalAudios']=function(pt,pu){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var pv=this['getByClassName']('VideoPanoramaOverlay');pv=pv['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var px=pv['length']-0x1;px>=0x0;--px){var py=pv[px];if(py['get']('video')['get']('hasAudio')==![])pv['splice'](px,0x1);}var pz=this['getByClassName']('Audio')['concat'](pv);var pA={};if(window['currentGlobalAudios']!=undefined)pz=pz['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(pE){if(!pE['allowResume'])pA[pE['audio']['get']('id')]=pE['audio'];return pE['audio'];}));var pB=[];for(var px=0x0,pC=pz['length'];px<pC;++px){var pD=pz[px];if(pD&&pD['get']('state')=='playing'&&(pt==undefined||pt['indexOf'](pD)==-0x1)){if(pD['get']('id')in pA){pD['stop']();}else{pD['pause']();pB['push'](pD);}}}if(pu||pB['length']>0x0)window['pausedAudiosLIFO']['push'](pB);return pB;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var pF=window['pausedAudiosLIFO']['pop']();if(!pF)return;for(var pG=0x0,pH=pF['length'];pG<pH;++pG){var pI=pF[pG];if(pI['get']('state')=='paused')pI['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(pJ){var pK=window['currentGlobalAudios'];if(pK){var pL=pK[pJ['get']('id')];if(pL)pJ=pL['audio'];}if(pJ['get']('state')=='playing')pJ['pause']();};TDV['Tour']['Script']['playAudioList']=function(pM,pN){if(pM['length']==0x0)return;if(pM['length']==0x1&&pN){var pO=pM[0x0];pO['set']('loop',!![]);this['playGlobalAudio'](pO,!![],null,!![]);}else{var pP=-0x1;var pQ;var pR=this['playGlobalAudio'];var pS=function(){if(++pP>=pM['length']){if(!pN)return;pP=0x0;}pQ=pM[pP];pR(pQ,!![],pS,!![]);};pS();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(pT,pU,pV,pW){var pX=this['getActiveMediaWithViewer'](this['getMainViewer']());var pY=this['getFirstPlayListWithMedia'](pX,!![]);var pZ=this['getPlayListItemByMedia'](pY,pX);var q0=pY['get']('items')['indexOf'](pZ);return this['playGlobalAudioWhilePlay'](pY,q0,pT,pU,pV,pW);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(q1,q2,q3,q4,q5,q6){var q7=function(qg){if(qg['data']['previousSelectedIndex']==q2){this['stopGlobalAudio'](q3);if(qb){var qh=qa['get']('media');var qi=qh['get']('audios');qi['splice'](qi['indexOf'](q3),0x1);qh['set']('audios',qi);}q1['unbind']('change',q7,this);if(q5)q5();}};var q9=window['currentGlobalAudios'];if(q9&&q3['get']('id')in q9){q3=q9[q3['get']('id')]['audio'];if(q3['get']('state')!='playing'){q3['play']();}return q3;}q1['bind']('change',q7,this);var qa=q1['get']('items')[q2];var qb=qa['get']('class')=='PanoramaPlayListItem';if(qb){var qc=qa['get']('media');var q9=(qc['get']('audios')||[])['slice']();if(q3['get']('class')=='MediaAudio'){var qd=this['rootPlayer']['createInstance']('PanoramaAudio');qd['set']('autoplay',![]);qd['set']('audio',q3['get']('audio'));qd['set']('loop',q3['get']('loop'));qd['set']('id',q3['get']('id'));this['cloneBindings'](q3,qd,'start');this['cloneBindings'](q3,qd,'end');this['cloneBindings'](q3,qd,'stateChange');q3=qd;}q9['push'](q3);qc['set']('audios',q9);}var qe=this['playGlobalAudio'](q3,q4,function(){q1['unbind']('change',q7,this);if(q5)q5['call'](this);});if(q6===!![]){var qf=function(){if(qe['get']('state')=='playing'){this['pauseGlobalAudios']([qe],!![]);}else if(qe['get']('state')=='stopped'){this['resumeGlobalAudios']();qe['unbind']('stateChange',qf,this);}};qe['bind']('stateChange',qf,this);}return qe;};TDV['Tour']['Script']['playGlobalAudio']=function(qj,qk,ql,qm){var qn=function(){qj['unbind']('end',qn,this);this['stopGlobalAudio'](qj);if(ql)ql['call'](this);};qj=this['getGlobalAudio'](qj);var qo=window['currentGlobalAudios'];if(!qo){qo=window['currentGlobalAudios']={};}qo[qj['get']('id')]={'audio':qj,'asBackground':qm||![],'allowResume':qk};if(qj['get']('state')=='playing'){return qj;}if(!qj['get']('loop')){qj['bind']('end',qn,this);}qj['play']();return qj;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(qp){var qq=-0x1;this['bind']('userInteraction',qr['bind'](this),this);qr();function qr(){if(qq!=-0x1)clearTimeout(qq);qq=setTimeout(function(){var qs=this['get']('data')['tour'];if(qs){if(this['isCardboardViewMode']())location['reload']();else qs['reload']();}}['bind'](this),qp*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(qt,qu){for(var qv=0x0;qv<qt['length'];++qv){var qw=qt[qv];var qx=this['getMediaFromPlayer'](qw);if(!qx)continue;if(qu&&qx['get']('class')!='Video360'&&'pauseCamera'in qw){qw['resumeCamera']();}else if(qw['get']('state')!='playing'){var qy=qw['get']('data');if(!qy){qy={};qw['set']('data',qy);}qy['playing']=!![];var qz=function(){if(qw['get']('state')=='playing'){delete qy['playing'];qw['unbind']('stateChange',qz,this);}};qw['bind']('stateChange',qz,this);qw['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(qA){var qB=window['currentGlobalAudios'];var qC=this;if(qB){Object['keys'](qB)['forEach'](function(qD){var qE=qB[qD];if(!qA||qA&&!qE['asBackground']){qC['stopGlobalAudio'](qE['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(qF){var qG=window['currentGlobalAudios'];if(qG){var qH=qG[qF['get']('id')];if(qH){qF=qH['audio'];delete qG[qF['get']('id')];if(Object['keys'](qG)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(qF)qF['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(qI,qJ){var qK=this['getCurrentPlayerWithMedia'](qJ);if(qK!=undefined){var qL=qI['get']('initialPosition');qL['set']('yaw',qK['get']('yaw'));qL['set']('pitch',qK['get']('pitch'));qL['set']('hfov',qK['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(qM,qN,qO,qP,qQ,qR){var qS=this['getKey']('keepVisibility_'+qM['get']('id'));if(qS)return;this['unregisterKey']('visibility_'+qM['get']('id'));var qT=function(){if(qQ){qM['set'](qQ,qP);}qM['set']('visible',qN);if(qM['get']('class')=='ViewerArea'){try{if(qN)qM['restart']();else if(qM['get']('playbackState')=='playing')qM['pause']();}catch(qY){};}};var qU='effectTimeout_'+qM['get']('id');if(!qR&&window['hasOwnProperty'](qU)){var qW=window[qU];if(qW instanceof Array){for(var qX=0x0;qX<qW['length'];qX++){clearTimeout(qW[qX]);}}else{clearTimeout(qW);}delete window[qU];}else if(qN==qM['get']('visible')&&!qR)return;if(qO&&qO>0x0){var qW=setTimeout(function(){if(window[qU]instanceof Array){var qZ=window[qU];var r0=qZ['indexOf'](qW);qZ['splice'](r0,0x1);if(qZ['length']==0x0){delete window[qU];}}else{delete window[qU];}qT();},qO);if(window['hasOwnProperty'](qU)){window[qU]=[window[qU],qW];}else{window[qU]=qW;}}else{qT();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(r1,r2,r3,r4){r1['set']('yaw',r2);r1['set']('pitch',r3);r1['set']('maximumAngle',r4);};TDV['Tour']['Script']['setLocale']=function(r5){this['stopTextToSpeech']();var r6=this['get']('data')['localeManager'];if(r6)this['get']('data')['localeManager']['setLocale'](r5);else{this['get']('data')['defaultLocale']=r5;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(r7,r8,r9){var ra=function(){if(r7['get']('selectedIndex')==r8){var rb=r7['get']('items')[r9];this['skip3DTransitionOnce'](rb['get']('player'));r7['set']('selectedIndex',r9);}};this['executeFunctionWhenChange'](r7,r8,ra);};TDV['Tour']['Script']['setMapLocation']=function(rc,rd){var re=function(){rc['unbind']('stop',re,this);rf['set']('mapPlayer',null);};rc['bind']('stop',re,this);var rf=rc['get']('player');rf['set']('mapPlayer',rd);};TDV['Tour']['Script']['setMainMediaByIndex']=function(rg){var rh=undefined;if(rg>=0x0&&rg<this['mainPlayList']['get']('items')['length']){rh=this['mainPlayList']['get']('items')[rg];var ri=rh['get']('media');var rj=ri['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,ri):null;if(rj){this['startPanoramaWithModel']['call'](this,rh,function(){this['mainPlayList']['set']('selectedIndex',rg);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',rg);}}return rh;};TDV['Tour']['Script']['setMainMediaByName']=function(rk){var rl=this['getMainViewer']();var rm=this['_getPlayListsWithViewer'](rl);for(var rn=0x0,ro=rm['length'];rn<ro;++rn){var rp=rm[rn];var rq=rp['get']('items');for(var rr=0x0,rs=rq['length'];rr<rs;++rr){var rt=rq[rr];var ru=rt['get']('media')['get']('data');if(ru!==undefined&&ru['label']==rk&&rt['get']('player')['get']('viewerArea')==rl){rp['set']('selectedIndex',rr);return rt;}}}};TDV['Tour']['Script']['executeAudioAction']=function(rv,rw,rx,ry,rz,rA){if(rv['length']==0x0)return;var rB,rC;var rD=this['getMainViewer']();if(rx&&!(rx===!![])){var rE=this['getPlayListsWithMedia'](rx);for(var rF=0x0;rF<rE['length'];++rF){var rG=rE[rF];var rI=this['getPlayListItemByMedia'](rG,rx);if(rI&&rI['get']('player')&&rI['get']('player')['get']('viewerArea')==rD){rB=rG;rC=rB['get']('items')['indexOf'](rI);break;}}if(!rB&&rE['length']>0x0){rB=rE[0x0];rC=this['getPlayListItemIndexByMedia'](rB,rx);}if(!rB)rx=!![];}if(rx===!![]){var rJ=this['getActiveMediaWithViewer'](rD);if(rJ){rB=this['getFirstPlayListWithMedia'](rJ,!![]);var rI=this['getPlayListItemByMedia'](rB,rJ);rC=rB['get']('items')['indexOf'](rI);}else{rx=null;}}var rK=[];var rL=function(){var rT=rK['concat']();var rU=![];var rV=function(rY){var rZ=rY['source']['get']('state');if(rZ=='playing'){if(!rU){rU=!![];this['pauseGlobalAudios'](rK,!![]);}}else if(rZ=='stopped'){rT['splice'](rT['indexOf'](rY['source']),0x1);if(rT['length']==0x0){this['resumeGlobalAudios']();}rY['source']['unbind']('stateChange',rV,this);}}['bind'](this);for(var rW=0x0,rX=rK['length'];rW<rX;++rW){rK[rW]['bind']('stateChange',rV,this);}}['bind'](this);var rM=function(){for(var s0=0x0,s1=rv['length'];s0<s1;++s0){var s2=rv[s0];rK['push'](this['playGlobalAudio'](s2,ry));}if(rz)rL();}['bind'](this);var rN=function(){for(var s3=0x0,s4=rv['length'];s3<s4;++s3){var s5=rv[s3];rK['push'](this['playGlobalAudioWhilePlay'](rB,rC,s5,ry));}if(rz)rL();}['bind'](this);var rO=function(){for(var s6=0x0,s7=rv['length'];s6<s7;++s6){this['pauseGlobalAudio'](rv[s6]);}}['bind'](this);var rP=function(){for(var s8=0x0,s9=rv['length'];s8<s9;++s8){this['stopGlobalAudio'](rv[s8]);}}['bind'](this);var rQ=function(){for(var sa=0x0,sb=rv['length'];sa<sb;++sa){if(this['getGlobalAudio'](rv[sa])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(rw=='playPause'||rw=='playStop'){if(rQ()){if(rw=='playPause'){rO();}else if(rw=='playStop'){rP();}}else{if(rz){if(rw=='playStop'){this['stopGlobalAudios'](!![]);}}if(rB){rN();}else{rM();}}}else if(rw=='play'||rw=='forcePlay'){if(rw=='forcePlay')rP();if(rB||rx===!![]){if(rA){var rR=rB?rB['get']('items')[rC]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rR&&rR['pauseCamera']){var rS=rv['concat']();endCallback=function(sc){rS['splice'](rS['indexOf'](sc),0x1);if(rS['length']==0x0)rR['resumeCamera']();}['bind'](this);rR['pauseCamera']();}}rN();}else{rM();}}else if(rw=='stop'){rP();}else if(rw=='pause'){rO();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(sd,se,sf,sg,sh,si,sj){var sk=this['getAudioByTags'](sd,se);this['executeAudioAction'](sk,sf,sg,sh,si,sj);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(sl,sm){var sn=sl['get']('items')[sm];var so=sn['get']('player');var sp=so['get']('viewerArea');var sq=this['getByClassName']('PlayList');for(var sr of sq){if(sr==sl)continue;var ss=sr['get']('selectedIndex');if(ss!=-0x1){var st=sr['get']('items')[ss];var su=st['get']('player');if(su&&su!=so&&su['get']('class')!='Model3DPlayer'&&su['get']('viewerArea')==sp)sr['set']('selectedIndex',-0x1);}}sl['set']('selectedIndex',sm);};TDV['Tour']['Script']['setMediaBehaviour']=function(sv,sw,sx,sy){var sz=this;var sA=function(sX){if(sX['data']['state']=='stopped'&&sy){sE['call'](this,!![]);}};var sB=function(){sK['unbind']('begin',sB,sz);var sY=sK['get']('media');var sZ=sY['get']('class');if(sZ!='Panorama'&&sZ!='Model3D'||sY['get']('camera')!=undefined&&sY['get']('camera')['get']('initialSequence')!=undefined){sL['bind']('stateChange',sA,sz);}};var sC=function(){var t0=sH['get']('selectedIndex');if(t0!=-0x1){sJ=t0;sE['call'](this,![]);}};var sD=function(){sE['call'](this,![]);};var sE=function(t1){if(!sH)return;var t2=sK['get']('media');if((t2['get']('class')=='Video360'||t2['get']('class')=='Video')&&t2['get']('loop')==!![]&&!t1)return;sv['set']('selectedIndex',-0x1);if(sS&&sR!=-0x1){if(sS){if(sR>0x0&&sS['get']('movements')[sR-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var t3=sT['get']('initialPosition');var t4=t3['get']('yaw');var t5=t3['get']('pitch');var t6=t3['get']('hfov');var t7=sS['get']('movements')[sR-0x1];var t8=t7['get']('targetYaw');var t9=t7['get']('targetPitch');var ta=t7['get']('targetHfov');if(t8!==undefined)t3['set']('yaw',t8);if(t9!==undefined)t3['set']('pitch',t9);if(ta!==undefined)t3['set']('hfov',ta);var tb=function(te){t3['set']('yaw',t4);t3['set']('pitch',t5);t3['set']('hfov',t6);sN['unbind']('end',tb,this);};sN['bind']('end',tb,this);}sS['set']('movementIndex',sR);}}if(sL){sK['unbind']('begin',sB,this);sL['unbind']('stateChange',sA,this);for(var tc=0x0;tc<sU['length'];++tc){sU[tc]['unbind']('click',sD,this);}}if(sQ){var td=this['getMediaFromPlayer'](sL);if((sH==this['mainPlayList']||sH['get']('items')['length']>0x1)&&(td==undefined||td==sK['get']('media'))){sH['set']('selectedIndex',sJ);}if(sv!=sH)sH['unbind']('change',sC,this);}else{sO['set']('visible',sP);}sH=undefined;};if(!sx){var sF=sv['get']('selectedIndex');var sG=sF!=-0x1?sv['get']('items')[sv['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(sG){sx=this['getMediaFromPlayer'](sG);}}var sH=undefined;if(sx){var sI=this['getPlayListsWithMedia'](sx,!![]);if(sI['indexOf'](sv)!=-0x1){sH=sv;}else if(sI['indexOf'](this['mainPlayList'])!=-0x1){sH=this['mainPlayList'];}else if(sI['length']>0x0){sH=sI[0x0];}}if(!sH){sv['set']('selectedIndex',sw);return;}var sJ=sH['get']('selectedIndex');var sK=sv['get']('items')[sw];var sL=sK['get']('player');var sM=this['getMediaFromPlayer'](sL);if(sv['get']('selectedIndex')==sw&&sM==sK['get']('media')||sJ==-0x1){return;}if(sv['get']('selectedIndex')==sw&&sM!=sK['get']('media'))sv['set']('selectedIndex',-0x1);var sN=sH['get']('items')[sJ];var sO=sL['get']('viewerArea');var sP=sO['get']('visible');var sQ=sO==sN['get']('player')['get']('viewerArea');if(sQ){if(sv!=sH){sH['set']('selectedIndex',-0x1);sH['bind']('change',sC,this);}}else{sO['set']('visible',!![]);}var sR=-0x1;var sS=undefined;var sT=sN['get']('camera');if(sT){sS=sT['get']('initialSequence');if(sS){sR=sS['get']('movementIndex');}}sv['set']('selectedIndex',sw);var sU=[];var sV=function(tf){var tg=sL['get'](tf);if(tg==undefined)return;if(Array['isArray'](tg))sU=sU['concat'](tg);else sU['push'](tg);};sV('buttonStop');for(var sW=0x0;sW<sU['length'];++sW){sU[sW]['bind']('click',sD,this);}sK['bind']('begin',sB,sz);this['executeFunctionWhenChange'](sv,sw,sy?sD:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(th,ti,tj,tk){var tl=function(){switch(tj){case'triggerClick':this['triggerOverlay'](th,'click');break;case'stop':case'play':case'pause':th[tj]();break;case'togglePlayPause':case'togglePlayStop':if(th['get']('state')=='playing')th[tj=='togglePlayPause'?'pause':'stop']();else th['play']();break;}if(tk){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var tq=th['get']('id');window['overlaysDispatched'][tq]=!![];setTimeout(function(){delete window['overlaysDispatched'][tq];},0x3e8);}};if(tk&&window['overlaysDispatched']!=undefined&&th['get']('id')in window['overlaysDispatched'])return;var tm=this['getFirstPlayListWithMedia'](ti,!![]);if(tm!=undefined){var tn=this['getPlayListItemByMedia'](tm,ti);var to=tn['get']('player');if(tm['get']('items')['indexOf'](tn)!=tm['get']('selectedIndex')||this['isPanorama'](tn['get']('media'))&&to['get']('rendererPanorama')!=tn['get']('media')){var tp=function(tr){tn['unbind']('begin',tp,this);tl['call'](this);};tn['bind']('begin',tp,this);return;}}tl['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(ts,tt,tu){var tv='overlayEffects';var tw=undefined;var tx=this['getKey'](tv);if(!tx){tx={};this['registerKey'](tv,tx);}for(var ty=0x0,tz=ts['length'];ty<tz;++ty){var tA=ts[ty];if(!tA)continue;if(tu&&tu>0x0){tx[tA['get']('id')]=setTimeout(tB['bind'](this,tA),tu);}else{tB['call'](this,tA);}}function tB(tC){var tD=tC['get']('id');var tE=tx[tD];if(tE){clearTimeout(tE);delete tE[tD];}var tF=tC['get']('class')=='PanoramaModel3DLocation'?tC['get']('data')['object']:tC;if(!tF)return;var tG=tt=='toggle'?!tF['get']('enabled'):tt;tF['set']('enabled',tG);if(tC['get']('class')=='PanoramaModel3DLocation')tC['get']('data')['enabled']=tG;var tI=tC['get']('data');if(tG&&tI&&'group'in tI){var tJ=this['getOverlaysByGroupname'](tI['group']);for(var tK=0x0,tL=tJ['length'];tK<tL;++tK){var tN=tJ[tK];if(tN!=tC)tN['set']('enabled',!tG);}}if(!tw)tw=this['getByClassName']('AdjacentPanorama');for(var tO=0x0,tP=tw['length'];tO<tP;++tO){var tQ=tw[tO];var tI=tQ['get']('data');if(!tI)continue;var tN=this[tI['overlayID']];if(tN&&tN==tC){tQ['set']('enabled',tN['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(tR,tS,tT,tU,tV){var tW=tT?this['getPanoramaOverlaysByTags'](tT,tR,tU):this['getOverlaysByTags'](tR,tU);this['setOverlaysVisibility'](tW,tS,tV);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(tX,tY,tZ,u0,u1){var u2=this['getComponentsByTags'](tX,u1);for(var u3=0x0,u4=u2['length'];u3<u4;++u3){var u5=u2[u3];if(tY=='toggle')u5['get']('visible')?u0(u5):tZ(u5);else tY?tZ(u5):u0(u5);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(u6,u7,u8,u9,ua){var ub=u6['get']('selectedIndex');var uc=u6['get']('items');var ud=u7['get']('media');var ue=ud['get']('camera');if(ub>=0x0&&uc[ub]==u7&&ud['get']('isLoaded')){ue['set']('yaw',ue['get']('yaw')%0x168);var uf=u7['get']('player')['get']('viewerArea');var ug=this['getActiveMediaWithViewer'](uf);if(ug['get']('class')['indexOf']('Panorama')!=-0x1){if(u9!==undefined){u9*=0x3e8;var uh=uf['get']('modelToPanoramaTraslationDuration');var ui=uf['get']('panoramaToModelTraslationDuration');var uj=()=>{clearTimeout(uk);u6['unbind']('change',uj,this);uf['set']('modelToPanoramaTraslationDuration',uh);uf['set']('panoramaToModelTraslationDuration',ui);};var uk=setTimeout(uj,u9);u6['bind']('change',uj,this);uf['set']('modelToPanoramaTraslationDuration',u9);uf['set']('panoramaToModelTraslationDuration',u9);}ue['setStoredPosition'](u8);}else{if(ue['get']('state')=='playing')ue['stop']();this['createTween'](ue,u8,u9,ua)['play']();}}else{if(ue['get']('state')=='playing')ue['stop']();this['startModel3DWithCameraSpot'](u7,u8);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(ul,um,un){var uo=ul['get']('selectedIndex');var up=ul['get']('items');var uq=um['get']('media');if(up[uo]==um&&uq['get']('isLoaded')){un['play']();}else{var ur=un['get']('movements');var us={};if(ur['length']>0x0){var ut=ur[0x0];if(ut['get']('class')=='TargetModel3DCameraMovement'){var uu=['x','y','z','yaw','pitch','fov','distance'];for(var uv in uu){uv=uu[uv];var uw=ut['get']('target'+uv['charAt'](0x0)['toUpperCase']()+uv['slice'](0x1));if(uw!==undefined){us[uv]=uw;}}}}this['startModel3DWithCameraSpot'](um,us);var ux=function(){um['unbind']('begin',ux,this);un['play']();};um['bind']('begin',ux,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(uy,uz){var uA=this['getActiveMediaWithViewer'](uz||this['getMainViewer']());if(uA!=undefined&&(uA['get']('class')['indexOf']('Panorama')!=-0x1||uA['get']('class')=='Video360')){var uB=uy['get']('media');var uC=this['clonePanoramaCamera'](uy['get']('camera'));this['setCameraSameSpotAsMedia'](uC,uA);this['startPanoramaWithCamera'](uB,uC);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(uD,uE,uF,uG,uH){var uI=uE['get']('media');var uJ=uE['get']('player');if(uD['get']('items')[uD['get']('selectedIndex')]==uE||uJ['get']('rendererPanorama')==uI){if(uF===undefined)uF=uJ['get']('yaw');if(uG===undefined)uG=uJ['get']('pitch');if(uH===undefined)uH=uJ['get']('hfov');uJ['moveTo'](uF,uG,uJ['get']('roll'),uH);}else{var uK=this['clonePanoramaCamera'](uE['get']('camera'));var uL=uK['get']('initialPosition');if(uF!==undefined)uL['set']('yaw',uF);if(uG!==undefined)uL['set']('pitch',uG);if(uH!==undefined)uL['set']('hfov',uH);this['startPanoramaWithCamera'](uI,uK);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(uM){var uN=this['getByClassName']('HotspotPanoramaOverlay');var uO=this['getByClassName']('PanoramaPlayer');var uP=uM=='hotspotEnabled';var uQ=uM=='circleEnabled';var uR=!!uM;uN['forEach'](function(uS){var uT=uS['get']('data');if(uT&&uT['hasPanoramaAction']==!![])uS['set']('enabledInSurfaceSelection',uP);});uO['forEach'](function(uU){uU['set']('adjacentPanoramaPositionsEnabled',uQ);uU['set']('surfaceSelectionEnabled',uR);});this['get']('data')['surfaceSelectionHotspotMode']=uM;};TDV['Tour']['Script']['setValue']=function(uV,uW,uX){try{if('set'in uV)uV['set'](uW,uX);else uV[uW]=uX;}catch(uY){}};TDV['Tour']['Script']['setStartTimeVideo']=function(uZ,v0){var v1=this['getPlayListItems'](uZ);var v2=[];var v3=function(){for(var v7=0x0;v7<v1['length'];++v7){var v8=v1[v7];v8['set']('startTime',v2[v7]);v8['unbind']('stop',v3,this);}};for(var v4=0x0;v4<v1['length'];++v4){var v5=v1[v4];var v6=v5['get']('player');if(!v6)continue;if(v6['get']('video')==uZ&&v6['get']('state')=='playing'){v6['seek'](v0);}else{v2['push'](v5['get']('startTime'));v5['set']('startTime',v0);v5['bind']('stop',v3,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(v9,va){if(v9&&va)this['setStartTimeVideo'](v9,va['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(vb){if(vb&&vb['get']('class')=='PanoramaPlayer'){var vc=vb['get']('viewerArea');if(vc&&vc['get']('translationTransitionEnabled')==!![]){var vd=function(){vb['unbind']('preloadMediaShow',vd,this);vc['set']('translationTransitionEnabled',!![]);};vc['set']('translationTransitionEnabled',![]);vb['bind']('preloadMediaShow',vd,this);}}};TDV['Tour']['Script']['shareSocial']=function(ve,vf,vg,vh,vi){if(vf==undefined){vf=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(vg){vf+=this['updateDeepLink'](vh,![]);}vf=function(vk){switch(vk){case'email':return'mailto:?body='+encodeURIComponent(vf);case'facebook':var vl=vf['indexOf']('?')!=-0x1;vf=vf['replace']('#','?');if(vl){var vm=vf['lastIndexOf']('?');vf=vf['substring'](0x0,vm)+'&'+vf['substring'](vm+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(vf);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(vf);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+vf;case'telegram':return'https://t.me/share/url?url='+vf;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+vf;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(vf);default:return vf;}}(ve);if(vi){for(var vj in vi){vf+='&'+vj+'='+vi[vj];}}if(ve=='clipboard')this['copyToClipboard'](vf);else this['openLink'](vf,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(vn,vo,vp,vq){var vr=function(vv){for(var vw=0x0,vx=vo['length'];vw<vx;vw++){var vy=vo[vw];if(!vq||vq(vy,vv))vy['set']('visible',vv);}};if(this['get']('isMobile')||this['get']('touchDevice')){vr['call'](this,!![]);}else{var vs=-0x1;var vt=function(){vr['call'](this,!![]);if(vs>=0x0)clearTimeout(vs);vn['bind']('rollOut',vu,this);};var vu=function(){var vz=function(){vr['call'](this,![]);};vn['unbind']('rollOut',vu,this);vs=setTimeout(vz['bind'](this),vp);};vn['bind']('rollOver',vt,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(vA,vB,vC,vD){var vE=this['_getObjectsByTags'](vB,['InnerModel3DObject'],'tags2Objects',vC)['filter'](function(vF){return vA['get']('objects')['indexOf'](vF)!=-0x1;}['bind'](this));this['setObjectsVisibility'](vE,vD);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(vG,vH,vI){var vJ=vH['map'](function(vK){return this['getModel3DInnerObject'](vG,vK);}['bind'](this));this['setObjectsVisibility'](vJ,vI);};TDV['Tour']['Script']['setObjectsVisibility']=function(vL,vM){vL['forEach'](function(vN){if(vN)vN['set']('enabled',vM==='toggle'?!vN['get']('enabled'):vM);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(vO,vP){var vQ=vO['get']('objects');for(var vR=0x0,vS=vQ['length'];vR<vS;++vR){var vT=vQ[vR];if(vT['get']('class')=='InnerModel3DObject'&&vT['get']('objectId')==vP)return vT;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(vU,vV,vW,vX,vY,vZ){var w0=this;var w1=function(){window['resumeAudiosBlocked']=![];vW['set']('selectedIndex',-0x1);w0['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](w6,!![]);if(w5){this['unbind']('resize',w3,this);}vU['unbind']('close',w1,this);};var w2=function(){vU['hide']();};var w3=function(){var w7=function(wo){return vU['get'](wo)||0x0;};var w8=w0['get']('actualWidth');var w9=w0['get']('actualHeight');var wa=w0['getMediaWidth'](vV);var wb=w0['getMediaHeight'](vV);var wc=parseFloat(vX)/0x64;var wd=parseFloat(vY)/0x64;var we=wc*w8;var wf=wd*w9;var wg=w7('footerHeight');var wh=w7('headerHeight');if(!wh){var wi=w7('closeButtonIconHeight')+w7('closeButtonPaddingTop')+w7('closeButtonPaddingBottom');var wj=w0['getPixels'](w7('titleFontSize'))+w7('titlePaddingTop')+w7('titlePaddingBottom');wh=wi>wj?wi:wj;wh+=w7('headerPaddingTop')+w7('headerPaddingBottom');}var wk=we-w7('bodyPaddingLeft')-w7('bodyPaddingRight')-w7('paddingLeft')-w7('paddingRight');var wl=wf-wh-wg-w7('bodyPaddingTop')-w7('bodyPaddingBottom')-w7('paddingTop')-w7('paddingBottom');var wm=wk/wl;var wn=wa/wb;if(wm>wn){we=wl*wn+w7('bodyPaddingLeft')+w7('bodyPaddingRight')+w7('paddingLeft')+w7('paddingRight');}else{wf=wk/wn+wh+wg+w7('bodyPaddingTop')+w7('bodyPaddingBottom')+w7('paddingTop')+w7('paddingBottom');}if(we>w8*wc){we=w8*wc;}if(wf>w9*wd){wf=w9*wd;}vU['set']('width',we);vU['set']('height',wf);vU['set']('x',(w8-w7('actualWidth'))*0.5);vU['set']('y',(w9-w7('actualHeight'))*0.5);};if(vZ){this['executeFunctionWhenChange'](vW,0x0,w2);}var w4=vV['get']('class');var w5=w4=='Video'||w4=='Video360';vW['set']('selectedIndex',0x0);if(w5){this['bind']('resize',w3,this);w3();vW['get']('items')[0x0]['get']('player')['play']();}else{vU['set']('width',vX);vU['set']('height',vY);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var w6=this['pauseCurrentPlayers'](!![]);vU['bind']('close',w1,this);vU['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(wp,wq,wr,ws,wt,wu,wv,ww,wx,wy,wz,wA){var wB=![];var wC=function(){wU['unbind']('loaded',wF,this);wJ['call'](this);};var wD=function(){wU['unbind']('click',wD,this);if(wY!=undefined){clearTimeout(wY);}};var wE=function(){setTimeout(wO,0x0);};var wF=function(){this['unbind']('click',wC,this);wT['set']('visible',!![]);wO();wV['set']('visible',!![]);wU['unbind']('loaded',wF,this);wU['bind']('resize',wE,this);wY=setTimeout(wG['bind'](this),0xc8);};var wG=function(){wY=undefined;if(ww){wU['bind']('click',wD,this);wI['call'](this);}wU['bind']('userInteractionStart',wP,this);wU['bind']('userInteractionEnd',wQ,this);wU['bind']('backgroundClick',wJ,this);if(wq){wU['bind']('click',wM,this);wU['set']('imageCursor','hand');}wV['bind']('click',wJ,this);if(wz)wz['call'](this);};var wH=function(){if(ww&&wY){clearTimeout(wY);wY=undefined;}};var wI=function(){if(ww){wH();wY=setTimeout(wJ['bind'](this),ww);}};var wJ=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);wB=!![];if(wY)clearTimeout(wY);if(wZ)clearTimeout(wZ);if(ww)wD();if(wu&&wu['get']('duration')>0x0){wu['bind']('end',wL,this);}else{setTimeout(()=>{wK['call'](this);},0x0);}wU['set']('visible',![]);wV['set']('visible',![]);wT['set']('visible',![]);this['unbind']('click',wC,this);wU['unbind']('backgroundClick',wJ,this);wU['unbind']('userInteractionStart',wP,this);wU['unbind']('userInteractionEnd',wQ,this,!![]);wU['unbind']('resize',wE,this);if(wq){wU['unbind']('click',wM,this);wU['set']('cursor','default');}wV['unbind']('click',wJ,this);this['resumePlayers'](wX,wx==null||wy);if(wy){this['resumeGlobalAudios']();}if(wx){this['stopGlobalAudio'](wx);}};var wK=function(){wU['set']('image',null);if(wA)wA['call'](this);};var wL=function(){wu['unbind']('end',wL,this);wK['call'](this);};var wM=function(){wU['set']('image',wN()?wp:wq);};var wN=function(){return wU['get']('image')==wq;};var wO=function(){var x0=wU['get']('actualWidth')-wU['get']('imageLeft')-wU['get']('imageWidth')+0xa;var x1=wU['get']('imageTop')+0xa;if(x0<0xa)x0=0xa;if(x1<0xa)x1=0xa;wV['set']('right',x0);wV['set']('top',x1);};var wP=function(){wH();if(wZ){clearTimeout(wZ);wZ=undefined;}else{wV['set']('visible',![]);}};var wQ=function(){wI['call'](this);if(!wB){wZ=setTimeout(wR,0x12c);}};var wR=function(){wZ=undefined;wV['set']('visible',!![]);wO();};var wS=function(x2){var x3=x2['get']('data');if(x3&&'extraLevels'in x3){var x4=this['rootPlayer']['createInstance'](x2['get']('class'));var x5=x3['extraLevels'];for(var x6=0x0;x6<x5['length'];x6++){var x7=x5[x6];if(typeof x7=='string')x5[x6]=this[x7['replace']('this.','')];}x4['set']('levels',x2['get']('levels')['concat'](x5));x2=x4;}return x2;};this['getMainViewer']()['set']('toolTipEnabled',![]);var wT=this['veilPopupPanorama'];var wU=this['zoomImagePopupPanorama'];var wV=this['closeButtonPopupPanorama'];if(wv){for(var wW in wv){wV['set'](wW,wv[wW]);}}var wX=this['pauseCurrentPlayers'](wx==null||!wy);if(wy){this['pauseGlobalAudios'](null,!![]);}if(wx){this['playGlobalAudio'](wx,!![]);}var wY=undefined;var wZ=undefined;wp=wS['call'](this,wp);if(wq)wq=wS['call'](this,wq);wU['bind']('loaded',wF,this);setTimeout(function(){this['bind']('click',wC,this,![]);}['bind'](this),0x0);wU['set']('image',wp);wU['set']('customWidth',wr);wU['set']('customHeight',ws);wU['set']('showEffect',wt);wU['set']('hideEffect',wu);wU['set']('visible',!![]);return wU;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(x8,x9,xa,xb,xc,xd,xe,xf){var xg=this['isCardboardViewMode']();if(x8['get']('visible')||!xg&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!xg){var xh=this['zoomImagePopupPanorama'];var xi=x8['get']('showDuration');var xj=x8['get']('hideDuration');var xl=this['pauseCurrentPlayers'](xd==null||!xe);var xm=x8['get']('popupMaxWidth');var xn=x8['get']('popupMaxHeight');var xo=function(){var xs=function(){if(!this['isCardboardViewMode']())x8['set']('visible',![]);};x8['unbind']('showEnd',xo,this);x8['set']('showDuration',0x1);x8['set']('hideDuration',0x1);this['showPopupImage'](xa,xb,x8['get']('popupMaxWidth'),x8['get']('popupMaxHeight'),null,null,x9,xc,xd,xe,xs,xp);};var xp=function(){var xt=function(){x8['unbind']('hideEnd',xt,this);if(xf)xf();};var xu=function(){x8['unbind']('showEnd',xu,this);x8['bind']('hideEnd',xt,this,!![]);x8['set']('visible',![]);x8['set']('showDuration',xi);x8['set']('popupMaxWidth',xm);x8['set']('popupMaxHeight',xn);};this['resumePlayers'](xl,xd==null||!xe);x8['set']('hideDuration',xj);if(!x8['get']('visible')&&xj>0x0){var xv=xh['get']('imageWidth');var xw=xh['get']('imageHeight');x8['bind']('showEnd',xu,this,!![]);x8['set']('showDuration',0x1);x8['set']('popupMaxWidth',xv);x8['set']('popupMaxHeight',xw);x8['set']('visible',!![]);}else{x8['set']('showDuration',xi);if(xf)xf();}this['getMainViewer']()['set']('toolTipEnabled',!![]);};x8['bind']('showEnd',xo,this,!![]);}else{var xq=function(){this['resumePlayers'](xl,xd==null||xe);if(xe){this['resumeGlobalAudios']();}if(xd){this['stopGlobalAudio'](xd);}if(xb){x8['set']('image',xa);x8['unbind']('click',xr,this);}x8['unbind']('hideEnd',xq,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xf)xf();};var xr=function(){x8['set']('image',x8['get']('image')==xa?xb:xa);};var xl=this['pauseCurrentPlayers'](xd==null||!xe);if(xe){this['pauseGlobalAudios'](null,!![]);}if(xd){this['playGlobalAudio'](xd,!![]);}if(xb)x8['bind']('click',xr,this);x8['bind']('hideEnd',xq,this,!![]);}x8['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(xx,xy,xz,xA,xB){var xC=![];var xD=function(){xx['unbind']('showEnd',xD);xH['bind']('click',xF,this);xG();xH['set']('visible',!![]);}['bind'](this);var xE=function(){xC=!![];if(!xx['get']('loop'))xF();}['bind'](this);var xF=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);xx['set']('visible',![]);xH['set']('visible',![]);xH['unbind']('click',xF,this);xx['unbind']('end',xE,this);xx['unbind']('hideEnd',xF,this,!![]);this['resumePlayers'](xJ,!![]);if(xz){this['resumeGlobalAudios']();}if(xA)xA();if(xB&&xC)xB();}['bind'](this);var xG=function(){var xK=0xa;var xL=0xa;xH['set']('right',xK);xH['set']('top',xL);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var xH=this['closeButtonPopupPanorama'];if(xy){for(var xI in xy){xH['set'](xI,xy[xI]);}}window['resumeAudiosBlocked']=!![];var xJ=this['pauseCurrentPlayers'](!![]);if(xz){this['pauseGlobalAudios']();}xx['bind']('end',xE,this,!![]);xx['bind']('showEnd',xD,this,!![]);xx['bind']('hideEnd',xF,this,!![]);xx['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(xM,xN,xO){if(xM['get']('visible')==!![]){return;}var xP=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xO){this['resumeGlobalAudios']();}xQ();this['resumePlayers'](xT,!xO);xM['unbind']('close',xP,this);};var xQ=function(){xM['unbind']('click',xQ,this);if(xR!=undefined){clearTimeout(xR);}};var xR=undefined;if(xN){var xS=function(){xM['hide']();};xM['bind']('click',xQ,this);xR=setTimeout(xS,xN);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(xO){this['pauseGlobalAudios'](null,!![]);}var xT=this['pauseCurrentPlayers'](!xO);xM['bind']('close',xP,this);xM['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(xU,xV){var xW=xU['get']('media');var xX=window['currentPanoramasWithCameraChanged']==undefined||!(xW['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xX){return;}var xY=xW['get']('camera');xV=Object['assign']({},xV);if(!xW['get']('isLoaded')){var xZ={};for(var y1 in xV){var y2='initial'+y1['charAt'](0x0)['toUpperCase']()+y1['slice'](0x1);xZ[y2]=xY['get'](y2);xV[y2]=xV[y1];xY['set'](y2,xV[y2]);delete xV[y1];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var y3=xW['get']('id');window['currentPanoramasWithCameraChanged'][y3]=[xU];var y4=function(){if(y3 in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][y3];}xU['unbind']('begin',y4,this);for(var yc in xZ){xY['set'](yc,xZ[yc]);}};xU['bind']('begin',y4,this);}else{for(var y1 in xV){xY['set'](y1,xV[y1]);}xY['setStoredPosition'](xV);}var y5=xU['get']('player');var y6=y5['get']('viewerArea');var y7=this['getActivePlayersWithViewer'](y6);var y8=y7['find'](function(yd){return this['getMediaFromPlayer'](yd)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var y9=xW['get']('data');if(y8&&y9['panoramaLocations']){var ya=this['getMediaFromPlayer'](y8);var yb=_getObject(this,y9['panoramaLocations']['find'](ye=>ya==_getObject(this,_getObject(this,ye)['get']('data')['panorama'])));if(yb&&!yb['get']('forceModelLoading')){yb['set']('forceModelLoading',!![]);xU['bind']('begin',function yf(){xU['unbind']('begin',yf,this);yb['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(yg,yh){var yi=this['getByClassName']('PlayList');if(yi['length']==0x0)return;var yj=window['currentPanoramasWithCameraChanged']==undefined||!(yg['get']('id')in window['currentPanoramasWithCameraChanged']);var yk=[];for(var ym=0x0,yn=yi['length'];ym<yn;++ym){var yo=yi[ym];var yp=yo['get']('items');for(var yq=0x0,yr=yp['length'];yq<yr;++yq){var yt=yp[yq];if(yt['get']('media')==yg&&(yt['get']('class')=='PanoramaPlayListItem'||yt['get']('class')=='Video360PlayListItem')){if(yj){yk['push']({'camera':yt['get']('camera'),'item':yt});}yt['set']('camera',yh);}}}if(yk['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var yu=yg['get']('id');window['currentPanoramasWithCameraChanged'][yu]=yk;var yv=function(){if(yu in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][yu];}for(var yx=0x0;yx<yk['length'];yx++){yk[yx]['item']['set']('camera',yk[yx]['camera']);yk[yx]['item']['unbind']('end',yv,this);}};for(var ym=0x0;ym<yk['length'];ym++){var yw=yk[ym];var yt=yw['item'];this['skip3DTransitionOnce'](yt['get']('player'));yt['bind']('end',yv,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(yy,yz){var yA=yy['get']('initialSequence');yA['pause']();var yB=function(){yA['play']();};setTimeout(yB,yz);};TDV['Tour']['Script']['syncPlaylists']=function(yC){var yD=function(yL,yM){for(var yN=0x0,yO=yC['length'];yN<yO;++yN){var yP=yC[yN];if(yP!=yM){var yQ=yP['get']('items');for(var yR=0x0,yS=yQ['length'];yR<yS;++yR){if(yQ[yR]['get']('media')==yL){if(yP['get']('selectedIndex')!=yR){yP['set']('selectedIndex',yR);}break;}}}}};var yE=function(yT){var yU=yT['source'];var yV=yU['get']('selectedIndex');if(yV<0x0)return;var yW=yU['get']('items')[yV]['get']('media');yD(yW,yU);};var yF=function(yX){var yY=yX['source']['get']('panoramaMapLocation');if(yY){var yZ=yY['get']('map');yD(yZ);}};for(var yH=0x0,yJ=yC['length'];yH<yJ;++yH){yC[yH]['bind']('change',yE,this);}var yK=this['getByClassName']('MapPlayer');for(var yH=0x0,yJ=yK['length'];yH<yJ;++yH){yK[yH]['bind']('panoramaMapLocation_change',yF,this);}};TDV['Tour']['Script']['translate']=function(z0){return this['get']('data')['localeManager']['trans'](z0);};TDV['Tour']['Script']['triggerOverlay']=function(z1,z2){if(z1['get']('areas')!=undefined){var z3=z1['get']('areas');for(var z4=0x0;z4<z3['length'];++z4){z3[z4]['trigger'](z2);}}else{z1['trigger'](z2);}};TDV['Tour']['Script']['updateDeepLink']=function(z5){z5=z5||{};var z6=this['mainPlayList']['get']('selectedIndex');var z7;var z8=z6>=0x0?this['mainPlayList']['get']('items')[z6]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(z8!=undefined){var za=z8['get']('data');if(za&&za['label']){if(z6>=0x0){var zc=this['mainPlayList']['get']('items')['reduce'](function(zx,zy){var zz=zy['get']('media')['get']('data');return zz&&za['label']==zz['label']?zx+0x1:zx;},0x0);if(zc!=0x1)z7='#media='+(z6+0x1);}if(!z7)z7='#media-name='+encodeURIComponent(za['label']);}else if(z6>=0x0){z7='#media='+(z6+0x1);}}if(z8){if(z5['includeCurrentView']===!![]){var zd=this['getActivePlayerWithViewer'](this['getMainViewer']());if(zd){switch(zd['get']('class')){case'PanoramaPlayer':var ze=zd['get']('yaw');var zf=zd['get']('pitch');var zg=zd['get']('hfov');if(!isNaN(ze)&&!isNaN(zf))z7+='&yaw='+ze['toFixed'](0x2)+'&pitch='+zf['toFixed'](0x2);if(!isNaN(zg))z7+='&fov='+zg['toFixed'](0x2);break;case'Model3DPlayer':var zh=zd['get']('model');var zi=zh['get']('camera');var zj=[];zj['push']('yaw='+zi['get']('yaw')['toFixed'](0x2));zj['push']('pitch='+zi['get']('pitch')['toFixed'](0x2));zj['push']('x='+zi['get']('x')['toFixed'](0x5));zj['push']('y='+zi['get']('y')['toFixed'](0x5));zj['push']('z='+zi['get']('z')['toFixed'](0x5));if(zi['get']('class')=='OrbitModel3DCamera')zj['push']('distance='+zi['get']('distance')['toFixed'](0x5));z7+='&'+zj['join']('&');break;}}}if(z5['includeCurrentVisibleHotspots']===!![]){var zk=this['getOverlays'](z8);var zl=[];var zm=[];for(var zn=0x0,zc=zk['length'];zn<zc;++zn){var zo=zk[zn];var zp=zo['get']('enabled');var za=zo['get']('data');if(zp===undefined||!za||!za['label'])continue;var zq=encodeURIComponent(za['label']);var zr=za['group'];if(zp!=za['defaultEnabledValue']){if(zp){zl['push'](zq);}else if(!zr){zm['push'](zq);}}}if(zl['length']>0x0)z7+='&son='+zl['join'](',');if(zm['length']>0x0)z7+='&hon='+zm['join'](',');if(z8['get']('class')=='Model3D'){var zs=z8['get']('variant');if(zs)z7+='&variant='+zs;var zt=z8['get']('objects');var zu=[];var zv=[];zt['forEach'](function(zA){if(zA['get']('class')=='InnerModel3DObject')(zA['get']('enabled')?zu:zv)['push'](zA['get']('objectId'));});if(zu['length']>0x0)z7+='&sobjids='+zu['join'](',');if(zv['length']>0x0)z7+='&hobjids='+zv['join'](',');}}if(z5['includeCurrentMeasureModel3DObjects']===!![]&&z8['get']('class')=='Model3D'){var zw=[];z8['get']('objects')['forEach'](function(zB){if(zB['get']('class')=='MeasureModel3DObject'&&zB['get']('mode')!='create'){var zC=[zB['get']('data')['id'],zB['get']('x'),zB['get']('y'),zB['get']('z')];zB['get']('points')['forEach'](function(zD){zC['push'](zD['get']('x'),zD['get']('y'),zD['get']('z'));});if(zC['length']>0x4){zw['push'](zC['join'](','));}}});if(zw['length']>0x0)z7+='&measures='+zw['join']('+');}}if(z7&&z5['setHash']===!![]){location['hash']=z7;}return z7;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(zE,zF,zG){var zH=function(){var zJ=zE['get']('selectedIndex');if(zJ>=0x0){var zK=function(){zN['unbind']('begin',zK);zL(zJ);};var zL=function(zO){var zP=zN['get']('media');var zQ=zP['get']('data');var zR=zQ!==undefined?zQ['description']:undefined;zM(zR);};var zM=function(zS){if(zS!==undefined){zF['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+zS+'</SPAN></div>');}else{zF['set']('html','');}var zT=zF['get']('html');zF['set']('visible',zT!==undefined&&zT);};var zN=zE['get']('items')[zJ];if(zF['get']('html')){zM('Loading...');zN['bind']('begin',zK);}else{zL(zJ);}}};var zI=function(){zF['set']('html',undefined);zE['unbind']('change',zH,this);zG['unbind']('stop',zI,this);};if(zG){zG['bind']('stop',zI,this);}zE['bind']('change',zH,this);zH();};TDV['Tour']['Script']['updateVideoCues']=function(zU,zV){var zW=zU['get']('items')[zV];var zX=zW['get']('media');if(zX['get']('cues')['length']==0x0)return;var zY=zW['get']('player');var zZ=[];var A0=function(){if(zU['get']('selectedIndex')!=zV){zX['unbind']('cueChange',A1,this);zU['unbind']('change',A0,this);}};var A1=function(A2){var A3=A2['data']['activeCues'];for(var A4=0x0,A5=zZ['length'];A4<A5;++A4){var A6=zZ[A4];if(A3['indexOf'](A6)==-0x1&&(A6['get']('startTime')>zY['get']('currentTime')||A6['get']('endTime')<zY['get']('currentTime')+0.5)){A6['trigger']('end');}}zZ=A3;};zX['bind']('cueChange',A1,this);zU['bind']('change',A0,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(A7,A8){var A9=this['get'](A8);for(var Aa in A7){A7[Aa]['set']('visible',A9);}};TDV['Tour']['Script']['quizStart']=function(){var Ab=this['get']('data')['quiz'];return Ab?Ab['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var Ac=this['get']('data')['quiz'];return Ac?Ac['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var Ad=this['get']('data')['quiz'];return Ad?Ad['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var Ae=this['get']('data')['quiz'];return Ae?Ae['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(Af){var Ag=this['get']('data')['quiz'];if(Ag)Ag['setItemFound'](Af);};TDV['Tour']['Script']['quizShowQuestion']=function(Ah){var Ai=this['get']('data');var Aj=Ai['quiz'];var Ak;if(Aj){var Al=this['pauseCurrentPlayers'](!![]);var Am=this[Ah];var An;var Ao=this['get']('data')['tour']['isIPad']();if(!Am['media']){An=this['get']('isMobile')&&!Ao?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&!Ao&&this['get']('orientation')=='landscape'){An={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}else if(Ao&&this['get']('orientation')=='portrait'){An={'theme':{'window':{'width':'90%'}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var Ap=this['get']('data')['tour']['getNotchValue']();if(Ap>0x0){An=this['mixObject'](An||{},{'theme':{'window':{'width':undefined,'left':Ap,'right':Ap}}});}}var Aq=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!Am['title'];if(Aq)this['textToSpeech'](Am['title'],Ah);Ak=Aj['showQuestion'](Ah,An);Ak['then'](function(Ar){if(Aq)this['stopTextToSpeech']();this['resumePlayers'](Al,!![]);}['bind'](this));}return Ak;};TDV['Tour']['Script']['quizShowScore']=function(As){var At=this['get']('data');var Au=At['quiz'];if(Au){if(this['get']('isMobile')){As=As||{};As=this['mixObject'](As,At[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return Au['showScore'](As);}};TDV['Tour']['Script']['quizShowTimeout']=function(Av,Aw){var Ax=this['get']('data');var Ay=Ax['quiz'];if(Ay){if(this['get']('isMobile')){Aw=Aw||{};Aw=this['mixObject'](Aw,Ax[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}Ay['showTimeout'](Av,Aw);}};TDV['Tour']['Script']['stopTextToSpeech']=function(Az){if(window['speechSynthesis']&&(Az==undefined||this['t2sLastID']==Az)){var AA=window['speechSynthesis'];if(AA['speaking']){AA['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(AB){return this['t2sLastID']==AB?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(AC,AD,AE){if(this['get']('mute')){return;}var AF=this['get']('data');var AG=AF['disableTTS']||![];if(AG)return;if(AD!=undefined&&this['t2sLastID']!=AD||AD==undefined){AE=AE||0x0;if(this['t2sLastID']&&AE>this['t2sLastPriority']){return;}var AH=AF['tour'];var AI=AF['textToSpeechConfig'];var AJ=AF['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var AK=window['speechSynthesis'];if(AK['speaking']){AK['cancel']();}var AL=new SpeechSynthesisUtterance(AC);if(AJ)AL['lang']=AJ;var AM;if(AI){AL['volume']=AI['volume'];AL['pitch']=AI['pitch'];AL['rate']=AI['rate'];if(AI['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}AL['onend']=function(){this['t2sLastID']=null;if(AM)clearInterval(AM);if(AI['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){AM=setInterval(function(){AK['pause']();AK['resume']();},0xbb8);}AK['speak'](AL);this['t2sLastPriority']=AE;this['t2sLastID']=AD;}else if(AH['isMobileApp']()){if(!AH['isIOS']()){var AN=function(AO,AP){var AQ={'command':'tts','type':AO};if(AP)AQ=this['mixObject'](AQ,AP);android['sendJSON'](JSON['stringify'](AQ));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(AI['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);AN('stop');if(AI){AN('init',{'volume':AI['volume'],'pitch':AI['pitch'],'rate':AI['rate'],'language':AJ});if(AI['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}AN('play',{'text':AC,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(AR){var AS=AR['get']('class');var AT;if(AS=='HTMLText'){var AU=AR['get']('html');if(AU){AT=this['htmlToPlainText'](AU,{'linkProcess':function(AV,AW){return AW;}});}}else if(AS=='Button'){AT=AR['get']('label');}else if(AS=='Label'){AT=AR['get']('text');}if(AT){this['textToSpeech'](AT,AR['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(AX){var AY=AX['get']('id');if(this['getStateTextToSpeech'](AY)!='playing')this['textToSpeechComponent'](AX);else this['stopTextToSpeech'](AY);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function AZ(B1){var B2=B1['source'];this['textToSpeech'](B2['get']('toolTip'),B2['get']('id'),0x1);}function B0(B3){var B4=B3['source'];this['stopTextToSpeech'](B4['get']('id'));}setTimeout(function(){var B5=this['getByClassName']('UIComponent');for(var B6=0x0,B7=B5['length'];B6<B7;++B6){var B8=B5[B6];var B9=B8['get']('toolTip');if(!!B9||B8['get']('class')=='ViewerArea'){B8['bind']('toolTipShow',AZ,this);B8['bind']('toolTipHide',B0,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(Ba){var Bb=this['getActivePlayerWithViewer'](Ba);if(Bb&&(Bb['get']('class')=='PanoramaPlayer'||Bb['get']('class')=='Model3DPlayer'))Bb['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(Bc,Bd){var Be=function(Bs,Bt){var Bu='';for(var Bv=0x0;Bv<Bt;Bv+=0x1){Bu+=Bs;}return Bu;};var Bf=null;var Bg=null;var Bh='underline';var Bi='indention';var Bj='-';var Bk=0x3;var Bl='-';var Bm=![];if(!!Bd){if(typeof Bd['linkProcess']==='function'){Bf=Bd['linkProcess'];}if(typeof Bd['imgProcess']==='function'){Bg=Bd['imgProcess'];}if(!!Bd['headingStyle']){Bh=Bd['headingStyle'];}if(!!Bd['listStyle']){Bi=Bd['listStyle'];}if(!!Bd['uIndentionChar']){Bj=Bd['uIndentionChar'];}if(!!Bd['listIndentionTabs']){Bk=Bd['listIndentionTabs'];}if(!!Bd['oIndentionChar']){Bl=Bd['oIndentionChar'];}if(!!Bd['keepNbsps']){Bm=Bd['keepNbsps'];}}var Bn=Be(Bj,Bk);var Bo=String(Bc)['replace'](/\n|\r/g,'\x20');const Bp=Bo['match'](/<\/body>/i);if(Bp){Bo=Bo['substring'](0x0,Bp['index']);}const Bq=Bo['match'](/<body[^>]*>/i);if(Bq){Bo=Bo['substring'](Bq['index']+Bq[0x0]['length'],Bo['length']);}Bo=Bo['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');Bo=Bo['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');Bo=Bo['replace'](/<img([^>]*)>/gi,function(Bw,Bx){var By='';var Bz='';var BA=/src="([^"]*)"/i['exec'](Bx);var BB=/alt="([^"]*)"/i['exec'](Bx);if(BA!==null){By=BA[0x1];}if(BB!==null){Bz=BB[0x1];}if(typeof Bg==='function'){return Bg(By,Bz);}if(Bz===''){return'![image]\x20('+By+')';}return'!['+Bz+']\x20('+By+')';});function Br(){return function(BC,BD,BE,BF){var BG=0x0;if(BE&&/start="([0-9]+)"/i['test'](BE)){BG=/start="([0-9]+)"/i['exec'](BE)[0x1]-0x1;}var BH='<p>'+BF['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(BI,BJ){var BK=0x0;var BL=BJ['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(BD==='o'&&BK===0x0){BG+=0x1;BK+=0x1;return'<br\x20/>'+BG+Be(Bl,Bk-String(BG)['length']);}return'<br\x20/>'+Bn;});return BL;})+'</p>';return BH;};}if(Bi==='linebreak'){Bo=Bo['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(Bi==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](Bo)){Bo=Bo['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,Br());}}if(Bh==='linebreak'){Bo=Bo['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(Bh==='underline'){Bo=Bo['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(BM,BN){return'\x0a&nbsp;\x0a'+BN+'\x0a'+Be('=',BN['length'])+'\x0a&nbsp;\x0a';});Bo=Bo['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(BO,BP){return'\x0a&nbsp;\x0a'+BP+'\x0a'+Be('-',BP['length'])+'\x0a&nbsp;\x0a';});Bo=Bo['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(BQ,BR,BS){return'\x0a&nbsp;\x0a'+BS+'\x0a&nbsp;\x0a';});}else if(Bh==='hashify'){Bo=Bo['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(BT,BU,BV){return'\x0a&nbsp;\x0a'+Be('#',BU)+'\x20'+BV+'\x0a&nbsp;\x0a';});}Bo=Bo['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');Bo=Bo['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(BW,BX,BY){if(typeof Bf==='function'){return Bf(BX,BY);}return'\x20['+BY+']\x20('+BX+')\x20';});Bo=Bo['replace'](/\n[ \t\f]*/gi,'\x0a');Bo=Bo['replace'](/\n\n+/gi,'\x0a');if(Bm){Bo=Bo['replace'](/( |\t)+/gi,'\x20');Bo=Bo['replace'](/&nbsp;/gi,'\x20');}else{Bo=Bo['replace'](/( |&nbsp;|\t)+/gi,'\x20');}Bo=Bo['replace'](/\n +/gi,'\x0a');Bo=Bo['replace'](/^ +/gi,'');while(Bo['indexOf']('\x0a')===0x0){Bo=Bo['substring'](0x1);}if(Bo['length']===0x0||Bo['lastIndexOf']('\x0a')!==Bo['length']-0x1){Bo+='\x0a';}return Bo;};TDV['Tour']['Script']['openEmbeddedPDF']=function(BZ,C0){var C1=!!window['MSInputMethodContext']&&!!document['documentMode'];if(C1){this['openLink'](C0,'_blank');return;}var C2=BZ['get']('class');var C3=!new RegExp('^(?:[a-z]+:)?//','i')['test'](C0);if(C3&&C2=='WebFrame'){var C4=location['origin']+location['pathname'];BZ['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(C4['substring'](0x0,C4['lastIndexOf']('/'))+'/'+C0)+'#0');}else{var C5=location['origin']==new URL(C0)['origin'];var C6='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var C7=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var C8='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+C0+'\x22,\x20\x22#content\x22,\x20{'+(C5?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+C6+'\x22,'+'\x22forcePDFJS\x22:\x20'+C7+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+C5+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(C2=='WebFrame'){BZ['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+C8+'</body>'+'</html>'));}else if(C2=='HTML'){BZ['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(C8));}}};TDV['Tour']['Script']['enableVR']=function(){var C9=this['getMainViewer']();var Ca=this['getActivePlayerWithViewer'](C9);if(Ca['get']('class')=='Model3DPlayer'&&!this['get']('vrControllerAvailable')){return;}C9['set']('viewMode','vr');};TDV['Tour']['Script']['disableVR']=function(){var Cb=this['getMainViewer']();Cb['set']('viewMode','standard');};TDV['Tour']['Script']['toggleVR']=function(){var Cc=this['getMainViewer']();if(Cc['get']('viewMode')=='standard')this['enableVR']();else this['disableVR']();};TDV['Tour']['Script']['getKey']=function(Cd){return window[Cd];};TDV['Tour']['Script']['registerKey']=function(Ce,Cf){window[Ce]=Cf;};TDV['Tour']['Script']['unregisterKey']=function(Cg){delete window[Cg];};TDV['Tour']['Script']['existsKey']=function(Ch){return Ch in window;};function _getCurrentActiveModels(){var Ci=this['getByClassName']('Model3DPlayer');var Cj=[];for(var Ck of Ci){var Cl=Ck['get']('model');var Cm=Ck['get']('viewerArea');if(Cl&&Cl['get']('isLoaded')&&Cm&&Cm['get']('visible'))Cj['push'](Cl);}return Cj;}function _onMeasureClick(Cn){var Co=Cn['source'];var Cp=Co['get']('mode');if(Cp!='create'){Co['set']('mode',Cp=='view'?'edit':'view');console['log'](Co['get']('mode'));}}function _forEachMeasureModel3DObject(Cq,Cr){if(!Cq)Cq=_getCurrentActiveModels['call'](this);Cq['forEach'](function(Cs){Cs['get']('objects')['forEach'](function(Ct){if(Ct['get']('class')=='MeasureModel3DObject')Cr(Cs,Ct);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(Cu,Cv){if(!Cu)Cu=_getCurrentActiveModels['call'](this);Cu['forEach'](function(Cw){var Cx=Cw['get']('objects');var Cy=Cx['filter'](function(Cz){return!Cv['call'](this,Cz);});if(Cy['length']!=Cx['length']){Cw['set']('objects',Cy);Cx['forEach'](function(CA){if(Cv['call'](this,CA))this['disposeInstance'](CA);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(CB){var CC=this['clone'](CB,CB['getAttributeNames']()['filter'](function(CD){return CD!='id';}));CC['set']('data',{'id':CB['get']('id')});return CC;}TDV['Tour']['Script']['startMeasurement']=function(CE,CF){if(!CE)CE=_getCurrentActiveModels['call'](this);var CG={},CH={},CI={};CE['forEach'](function(CK){var CL=CK['get']('objects');var CM=CL['findIndex'](function(CR){return CR['get']('class')=='MeasureModel3DObject'&&CR['get']('mode')=='create';});var CN=CM!=-0x1;if(CN){var CO=CL[CM];if(CO['get']('points')['length']==0x0){CL['splice'](CM,0x1);this['disposeInstance'](CO);}else CO['set']('mode','view');}CL['forEach'](function(CS){if(CS['get']('class')=='MeasureModel3DObject'&&CS['get']('mode')=='edit')CS['set']('mode','view');}['bind'](this));var CP=_cloneMeasureModel3DObject['call'](this,CF);this['cloneBindings'](CF,CP,'modeChange');CP['set']('mode','create');CP['bind']('click',_onMeasureClick,this);var CQ=CK['get']('camera');CP['bind']('modeChange',function CT(){if(CP['get']('mode')=='create'){CG[CK['get']('id')]=CK['get']('surfaceSelectionEnabled');CK['set']('surfaceSelectionEnabled',!![]);if(CQ['get']('class')=='FlyOverModel3DCamera'){CH[CK['get']('id')]=CQ['get']('doubleClickAction');CQ['set']('doubleClickAction','none');}}else{CP['unbind']('modeChange',CT,this);CK['set']('surfaceSelectionEnabled',CG[CK['get']('id')]);if(CQ['get']('class')=='FlyOverModel3DCamera'){CQ['set']('doubleClickAction',CH[CK['get']('id')]);}CL['forEach'](function(CU){var CV=CI[CU['get']('id')];if(CV){CU['set']('rollOverEnabled',CV['rollOverEnabled']);}});}},this);if(CE['length']>0x0){CP['bind']('distanceChange',function CW(){CP['unbind']('distanceChange',CW,this);CJ['call'](this,CE['filter'](CX=>CX!=CK));},this);}CL['forEach'](function(CY){var CZ=CY['get']('id');if(CZ){CI[CZ]={'rollOverEnabled':CY['get']('rollOverEnabled')};CY['set']('rollOverEnabled',!![]);}});CL=CL['concat']();CL['push'](CP);CK['set']('objects',CL);}['bind'](this));function CJ(D0){this['stopMeasurement'](D0);for(var D1 of D0){var D2=D1['get']('id');D1['set']('surfaceSelectionEnabled',CG[D2]);if(D2 in CH)D1['get']('camera')['set']('doubleClickAction',CH[D2]);}}};TDV['Tour']['Script']['stopMeasurement']=function(D3){_deleteModel3DObjects['call'](this,D3,function(D4){return D4['get']('class')=='MeasureModel3DObject'&&D4['get']('mode')=='create'&&D4['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,D3,function(D5,D6){if(D6['get']('mode')=='create'){D6['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(D7,D8){if(!D7)D7=_getCurrentActiveModels['call'](this);var D9=D7['some'](function(Da){var Db=Da['get']('objects');var Dc=Db['find'](function(Dd){return Dd['get']('class')=='MeasureModel3DObject'&&Dd['get']('mode')=='create';});return Dc!=null;});if(!D9)this['startMeasurement'](D7,D8);else this['stopMeasurement'](D7);};TDV['Tour']['Script']['cleanAllMeasurements']=function(De){_deleteModel3DObjects['call'](this,De,function(Df){return Df['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(Dg){_deleteModel3DObjects['call'](this,Dg,function(Dh){return Dh['get']('class')=='MeasureModel3DObject'&&Dh['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(Di,Dj){_forEachMeasureModel3DObject['call'](this,Di,function(Dk,Dl){Dl['set']('enabled',Dj);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(Dm){_forEachMeasureModel3DObject['call'](this,Dm,function(Dn,Do){Do['set']('enabled',!Do['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(Dp){_forEachMeasureModel3DObject['call'](this,null,function(Dq,Dr){Dr['set']('units',Dp);});};
//# sourceMappingURL=script_v2024.0.2.js.map
//Generated with v2024.0.2, Thu May 30 2024

var tour;
var devicesUrl = {"general":"script_general.js?v=1717069814045","mobile":"script_mobile.js?v=1717069814045"};

(function()
{
    var deviceType = ['general'];
    if(TDV.PlayerAPI.mobile)
        deviceType.unshift('mobile');
    if(TDV.PlayerAPI.device == TDV.PlayerAPI.DEVICE_IPAD)
        deviceType.unshift('ipad');
    var url;
    for(var i=0; i<deviceType.length; ++i) {
        var d = deviceType[i];
        if(d in devicesUrl) {
            url = devicesUrl[d];
            break;
        }
    }
    if(typeof url == "object") {
        var orient = TDV.PlayerAPI.getOrientation();
        if(orient in url) {
            url = url[orient];
        }
    }
    var link = document.createElement('link');
    link.rel = 'preload';
    link.href = url;
    link.as = 'script';
    var el = document.getElementsByTagName('script')[0];
    el.parentNode.insertBefore(link, el);
})();

function loadTour()
{
    if(tour) return;

    if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent)) {
        var preloadContainer = document.getElementById('preloadContainer');
        if(preloadContainer)
            document.body.style.backgroundColor = window.getComputedStyle(preloadContainer).backgroundColor;
    }

    var settings = new TDV.PlayerSettings();
    settings.set(TDV.PlayerSettings.CONTAINER, document.getElementById('viewer'));
    settings.set(TDV.PlayerSettings.WEBVR_POLYFILL_URL, 'lib/WebVRPolyfill.js?v=1717069814045');
    settings.set(TDV.PlayerSettings.HLS_URL, 'lib/Hls.js?v=1717069814045');
    settings.set(TDV.PlayerSettings.QUERY_STRING_PARAMETERS, 'v=1717069814045');

    tour = new TDV.Tour(settings, devicesUrl);
    tour.bind(TDV.Tour.EVENT_TOUR_INITIALIZED, onVirtualTourInit);
    tour.bind(TDV.Tour.EVENT_TOUR_LOADED, onVirtualTourLoaded);
    tour.bind(TDV.Tour.EVENT_TOUR_ENDED, onVirtualTourEnded);
    tour.load();
}

function pauseTour()
{
    if(!tour)
        return;

    tour.pause();
}

function resumeTour()
{
    if(!tour)
        return;

    tour.resume();
}

function onVirtualTourInit()
{
    var updateTexts = function() {
        document.title = this.trans("tour.name")
    };

    tour.locManager.bind(TDV.Tour.LocaleManager.EVENT_LOCALE_CHANGED, updateTexts.bind(tour.locManager));
    
    if (tour.player.cookiesEnabled)
        enableCookies();
    else
        tour.player.bind('enableCookies', enableCookies);
}

function onVirtualTourLoaded()
{
    disposePreloader();
}

function onVirtualTourEnded()
{

}

function enableCookies()
{
    
}

function setMediaByIndex(index) {
    if(!tour)
        return;

    tour.setMediaByIndex(index);
}

function setMediaByName(name)
{
    if(!tour)
        return;

    tour.setMediaByName(name);
}

function showPreloader()
{
    var preloadContainer = document.getElementById('preloadContainer');
    if(preloadContainer != undefined)
        preloadContainer.style.opacity = 1;
}

function disposePreloader()
{
    var preloadContainer = document.getElementById('preloadContainer');
    if(preloadContainer == undefined)
        return;

    var transitionEndName = transitionEndEventName();
    if(transitionEndName)
    {
        preloadContainer.addEventListener(transitionEndName, hide, false);
        preloadContainer.style.opacity = 0;
        setTimeout(hide, 500); //Force hide. Some cases the transitionend event isn't dispatched with an iFrame.
    }
    else
    {
        hide();
    }

    function hide()
    {
        document.getElementById("video_67A47C71_E3DF_783C_41A5_165BBA33ACE9").pause();
        document.body.style.backgroundColor = window.getComputedStyle(preloadContainer).backgroundColor;
        preloadContainer.style.visibility = 'hidden';
        preloadContainer.style.display = 'none';
        var videoList = preloadContainer.getElementsByTagName("video");
        for(var i=0; i<videoList.length; ++i)
        {
            var video = videoList[i];
            video.pause();
            while (video.children.length)
                video.removeChild(video.children[0]);
        }
    }

    function transitionEndEventName () {
        var el = document.createElement('div');
        var transitions = {
            'transition':'transitionend',
            'OTransition':'otransitionend',
            'MozTransition':'transitionend',
            'WebkitTransition':'webkitTransitionEnd'
        };

        var t;
        for (t in transitions) {
            if (el.style[t] !== undefined) {
                return transitions[t];
            }
        }

        return undefined;
    }
}

function onBodyClick(){
    document.body.removeEventListener("click", onBodyClick);
    document.body.removeEventListener("touchend", onBodyClick);
    
}

function onLoad() {
    if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent))
    {
        var onOrientationChange = function()
        {
            document.documentElement.style.height = 'initial';
            document.body.style.height = 'initial';
            Array.from(document.querySelectorAll('.fill-viewport')).forEach(function(element)
            {
                element.classList.toggle('landscape-right', window.orientation == -90);
                element.classList.toggle('landscape-left', window.orientation == 90);
            });
            setTimeout(function()
            {
                document.documentElement.style.height = '100%';
                document.body.style.height = undefined;
            }, 500);
        };
        window.addEventListener('orientationchange', onOrientationChange);
        onOrientationChange();
    }

    var params = getParams(location.search.substr(1));
    if(params.hasOwnProperty("skip-loading"))
    {
        loadTour();
        disposePreloader();
        return;
    }

    if (isOVRWeb()){
        showPreloader();
        loadTour();
        return;
    }

    playVideo(document.getElementById("video_67A47C71_E3DF_783C_41A5_165BBA33ACE9"), true);
			showPreloader();
			loadTour();
}



function playVideo(video, autoplayMuted, clickComponent) {
    function hasAudio (video) {
        return video.mozHasAudio ||
               Boolean(video.webkitAudioDecodedByteCount) ||
               Boolean(video.audioTracks && video.audioTracks.length);
    }

    function detectUserAction() {
        var component = clickComponent || document.getElementById('preloadContainer');
        var onVideoClick = function(e) {
            if(video.paused) {
                video.play();
            }
            video.muted = false;
            if(hasAudio(video))
            {
                e.stopPropagation();
                e.stopImmediatePropagation();
                e.preventDefault();
            }

            component.removeEventListener('click', onVideoClick);
            component.removeEventListener('touchend', onVideoClick);

            if(component == clickComponent) {
                setComponentVisibility(false);
            }
        };
        component.addEventListener("click", onVideoClick);
        component.addEventListener("touchend", onVideoClick);
    }

    function setComponentVisibility(visible) {
        clickComponent.style.visibility = visible ? 'visible' : 'hidden';
    }

    var canPlay = true;
    var promise = video.play();
    if (promise) {
        promise.catch(function() {
            if(clickComponent)
                setComponentVisibility(true);
            canPlay = false;
            if(autoplayMuted) {
                video.muted = true;
                video.play();
            }
            detectUserAction();
        });
    } else {
        canPlay = false;
    }

    if (!canPlay || video.muted) {
        detectUserAction();
    } else if(clickComponent) {
        setComponentVisibility(false);
    }
}

function isOVRWeb(){
    return window.location.hash.substring(1).split('&').indexOf('ovrweb') > -1;
}

function getParams(params) {
    var queryDict = {}; params.split("&").forEach(function(item) {var k = item.split("=")[0], v = decodeURIComponent(item.split("=")[1]);queryDict[k.toLowerCase()] = v});
    return queryDict;
}

document.addEventListener('DOMContentLoaded', onLoad);